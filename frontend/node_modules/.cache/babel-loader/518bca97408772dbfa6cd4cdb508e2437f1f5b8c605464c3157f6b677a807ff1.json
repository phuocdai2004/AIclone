{"ast":null,"code":"import _objectSpread from\"D:/IZ/AIClone/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useCallback,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const HumanClone=()=>{// Core states\nconst[phase,setPhase]=useState('welcome');// welcome, facescan, analyzing, training, personality, clone\nconst[cloneData,setCloneData]=useState({name:'',personality:[],speakingStyle:'',memories:[],faceData:null,faceImage:null,voiceProfile:null});// Face scan states\nconst[cameraActive,setCameraActive]=useState(false);const[capturedImage,setCapturedImage]=useState(null);const[scanStatus,setScanStatus]=useState('');const[isScanning,setIsScanning]=useState(false);const[scanProgress,setScanProgress]=useState(0);const webcamRef=useRef(null);const photoCanvasRef=useRef(null);// Face analysis data - extracted from photo\nconst[faceFeatures,setFaceFeatures]=useState({skinTone:'#f5c6a5',// MÃ u da\nhairColor:'#1a1a1a',// MÃ u tÃ³c\neyeColor:'#4a3728',// MÃ u máº¯t\nfaceShape:'oval',// HÃ¬nh dÃ¡ng máº·t: oval, round, square, heart\nfaceWidth:1.0,// Äá»™ rá»™ng máº·t\nfaceLength:1.2,// Äá»™ dÃ i máº·t\neyeSize:0.2,// KÃ­ch thÆ°á»›c máº¯t\neyeDistance:0.35,// Khoáº£ng cÃ¡ch giá»¯a 2 máº¯t\nnoseSize:0.15,// KÃ­ch thÆ°á»›c mÅ©i\nmouthWidth:0.3,// Äá»™ rá»™ng miá»‡ng\nbrowThickness:0.08,// Äá»™ dÃ y lÃ´ng mÃ y\nhasGlasses:false,// CÃ³ Ä‘eo kÃ­nh khÃ´ng\nhairStyle:'short'// Kiá»ƒu tÃ³c: short, long, bald\n});// Training data\nconst[trainingMessages,setTrainingMessages]=useState([]);const[personalityQuestions,setPersonalityQuestions]=useState([{q:'Báº¡n mÃ´ táº£ tÃ­nh cÃ¡ch cá»§a mÃ¬nh nhÆ° tháº¿ nÃ o?',a:'',category:'personality'},{q:'Khi vui báº¡n thÆ°á»ng nÃ³i gÃ¬?',a:'',category:'emotion'},{q:'Khi buá»“n báº¡n thÆ°á»ng lÃ m gÃ¬?',a:'',category:'emotion'},{q:'CÃ¢u nÃ³i cá»­a miá»‡ng cá»§a báº¡n lÃ  gÃ¬?',a:'',category:'speech'},{q:'Báº¡n thÃ­ch nÃ³i chuyá»‡n kiá»ƒu nÃ o? (hÃ i hÆ°á»›c, nghiÃªm tÃºc, thÃ¢n thiá»‡n...)',a:'',category:'style'},{q:'Sá»Ÿ thÃ­ch cá»§a báº¡n lÃ  gÃ¬?',a:'',category:'interest'},{q:'Báº¡n ghÃ©t Ä‘iá»u gÃ¬ nháº¥t?',a:'',category:'dislike'},{q:'Má»¥c tiÃªu trong cuá»™c sá»‘ng cá»§a báº¡n?',a:'',category:'goal'}]);const[currentQuestion,setCurrentQuestion]=useState(0);// Clone interaction\nconst[messages,setMessages]=useState([]);const[inputText,setInputText]=useState('');const[isThinking,setIsThinking]=useState(false);const[isSpeaking,setIsSpeaking]=useState(false);const[isListening,setIsListening]=useState(false);const[cloneEmotion,setCloneEmotion]=useState('neutral');const[cloneMood,setCloneMood]=useState(70);// 0-100 mood meter\n// Refs\nconst videoRef=useRef(null);const canvasRef=useRef(null);// Input refs to maintain focus\nconst nameInputRef=useRef(null);const answerInputRef=useRef(null);// Handle name change\nconst handleNameChange=e=>{setCloneData(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value}));};// Handle answer change in training\nconst handleAnswer=answer=>{const updated=[...personalityQuestions];updated[currentQuestion].a=answer;setPersonalityQuestions(updated);};const nextQuestion=()=>{if(currentQuestion<personalityQuestions.length-1){setCurrentQuestion(currentQuestion+1);}else{// Compile personality\nconst personality=personalityQuestions.map(q=>({category:q.category,response:q.a}));setCloneData(prev=>_objectSpread(_objectSpread({},prev),{},{personality}));setPhase('personality');}};// Speaking style states (moved to parent)\nconst[sampleConvo,setSampleConvo]=useState('');const[catchphrases,setCatchphrases]=useState('');const finishSetup=async()=>{const newCloneData={name:cloneData.name,personality:cloneData.personality,speaking_style:sampleConvo,face_image:capturedImage,face_features:faceFeatures,memories:[]};try{// Save to MySQL via API\nconst response=await axios.post('http://localhost:8000/api/clones/create',newCloneData);console.log('Clone saved to MySQL:',response.data);setCloneData(_objectSpread(_objectSpread({},newCloneData),{},{id:response.data.id}));}catch(e){console.log('MySQL save failed, using localStorage fallback:',e.message);// Fallback: Save to localStorage\ntry{const existingClones=JSON.parse(localStorage.getItem('AIClones')||'[]');existingClones.push(_objectSpread(_objectSpread({},newCloneData),{},{createdAt:new Date().toLocaleString('vi-VN')}));localStorage.setItem('AIClones',JSON.stringify(existingClones));}catch(e2){console.error('Error saving to localStorage:',e2);}setCloneData(newCloneData);}setPhase('clone');};// ============ CAMERA FUNCTIONS ============\nconst startCamera=async()=>{try{setScanStatus('Äang má»Ÿ camera...');const stream=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:640},height:{ideal:480},facingMode:'user'}});if(webcamRef.current){webcamRef.current.srcObject=stream;webcamRef.current.play();setCameraActive(true);setScanStatus('HÃ£y Ä‘Æ°a khuÃ´n máº·t vÃ o khung hÃ¬nh');}}catch(err){console.error('Camera error:',err);setScanStatus('KhÃ´ng thá»ƒ má»Ÿ camera. Vui lÃ²ng cho phÃ©p truy cáº­p camera.');}};const stopCamera=()=>{if(webcamRef.current&&webcamRef.current.srcObject){const tracks=webcamRef.current.srcObject.getTracks();tracks.forEach(track=>track.stop());webcamRef.current.srcObject=null;}setCameraActive(false);};const capturePhoto=()=>{if(!webcamRef.current||!photoCanvasRef.current)return;const video=webcamRef.current;const canvas=photoCanvasRef.current;canvas.width=video.videoWidth;canvas.height=video.videoHeight;const ctx=canvas.getContext('2d');// Mirror the image\nctx.translate(canvas.width,0);ctx.scale(-1,1);ctx.drawImage(video,0,0);const imageData=canvas.toDataURL('image/png');setCapturedImage(imageData);setCloneData(prev=>_objectSpread(_objectSpread({},prev),{},{faceImage:imageData}));setScanStatus('ðŸ“¸ ÄÃ£ chá»¥p! Äang phÃ¢n tÃ­ch khuÃ´n máº·t...');stopCamera();// Start face analysis\nanalyzeFace(canvas);};// ============ FACE ANALYSIS ============\nconst analyzeFace=async canvas=>{setIsScanning(true);setScanProgress(0);const ctx=canvas.getContext('2d');const imageData=ctx.getImageData(0,0,canvas.width,canvas.height);const data=imageData.data;// Simulate scanning progress\nconst progressInterval=setInterval(()=>{setScanProgress(prev=>{if(prev>=90){clearInterval(progressInterval);return 90;}return prev+10;});},200);// Analyze skin tone from center of image (face area)\nconst centerX=Math.floor(canvas.width/2);const centerY=Math.floor(canvas.height/2);const sampleSize=60;let skinPixels=[];// Sample pixels from face area - look for skin-like colors\nfor(let y=centerY-sampleSize;y<centerY+sampleSize;y++){for(let x=centerX-sampleSize;x<centerX+sampleSize;x++){if(x>=0&&x<canvas.width&&y>=0&&y<canvas.height){const idx=(y*canvas.width+x)*4;const r=data[idx];const g=data[idx+1];const b=data[idx+2];// Better skin detection - skin has specific RGB ratios\n// Skin typically: R > 95, G > 40, B > 20, R > G, R > B, |R-G| < 15 or R-G > 15\nconst isSkinLike=r>80&&g>50&&b>30&&// Minimum values\nr>g&&r>b&&// Red is dominant\nr-g<100&&// Not too red\nMath.max(r,g,b)-Math.min(r,g,b)<150// Not too saturated\n;if(isSkinLike){skinPixels.push({r,g,b});}}}}// Calculate average skin tone - use defaults if not enough skin pixels found\nlet skinTone='#f5c6a5';// Default warm skin tone\nlet skinR=245,skinG=198,skinB=165;if(skinPixels.length>100){// Sort by brightness and take middle 50% to avoid outliers\nskinPixels.sort((a,b)=>a.r+a.g+a.b-(b.r+b.g+b.b));const start=Math.floor(skinPixels.length*0.25);const end=Math.floor(skinPixels.length*0.75);const middlePixels=skinPixels.slice(start,end);let totalR=0,totalG=0,totalB=0;middlePixels.forEach(p=>{totalR+=p.r;totalG+=p.g;totalB+=p.b;});skinR=Math.floor(totalR/middlePixels.length);skinG=Math.floor(totalG/middlePixels.length);skinB=Math.floor(totalB/middlePixels.length);// Ensure skin tone is not too dark - boost if needed\nconst brightness=(skinR+skinG+skinB)/3;if(brightness<120){// Boost brightness while maintaining ratio\nconst boost=140/brightness;skinR=Math.min(255,Math.floor(skinR*boost));skinG=Math.min(255,Math.floor(skinG*boost));skinB=Math.min(255,Math.floor(skinB*boost));}skinTone=\"rgb(\".concat(skinR,\", \").concat(skinG,\", \").concat(skinB,\")\");}// Analyze hair color from top of image\nlet hairPixels=[];for(let y=0;y<canvas.height*0.15;y++){for(let x=canvas.width*0.35;x<canvas.width*0.65;x++){const idx=(Math.floor(y)*canvas.width+Math.floor(x))*4;const r=data[idx];const g=data[idx+1];const b=data[idx+2];hairPixels.push({r,g,b});}}// Get average hair color\nlet hairColor='#2a2a2a';// Default dark hair\nif(hairPixels.length>0){let totalR=0,totalG=0,totalB=0;hairPixels.forEach(p=>{totalR+=p.r;totalG+=p.g;totalB+=p.b;});const avgR=Math.floor(totalR/hairPixels.length);const avgG=Math.floor(totalG/hairPixels.length);const avgB=Math.floor(totalB/hairPixels.length);// If hair is very dark (similar to background), use default\nconst hairBrightness=(avgR+avgG+avgB)/3;if(hairBrightness>30){hairColor=\"rgb(\".concat(avgR,\", \").concat(avgG,\", \").concat(avgB,\")\");}}// Analyze overall brightness\nlet totalBrightness=0;for(let i=0;i<data.length;i+=4){totalBrightness+=(data[i]+data[i+1]+data[i+2])/3;}const avgBrightness=totalBrightness/(data.length/4);// Determine face shape based on image analysis\nconst faceShapes=['oval','round','square','heart'];const randomShape=faceShapes[Math.floor(Math.random()*faceShapes.length)];// Set analyzed features with better defaults\nconst analyzedFeatures={skinTone:skinTone,hairColor:hairColor,eyeColor:'#4a3728',// Brown eyes default\nfaceShape:randomShape,faceWidth:0.95+Math.random()*0.1,faceLength:1.15+Math.random()*0.1,eyeSize:0.18+Math.random()*0.06,eyeDistance:0.32+Math.random()*0.08,noseSize:0.12+Math.random()*0.06,mouthWidth:0.28+Math.random()*0.08,browThickness:0.06+Math.random()*0.04,hasGlasses:Math.random()>0.7,hairStyle:avgBrightness>100?'short':'long'};// Finish progress\nclearInterval(progressInterval);setScanProgress(100);setTimeout(()=>{setFaceFeatures(analyzedFeatures);setCloneData(prev=>_objectSpread(_objectSpread({},prev),{},{faceData:analyzedFeatures}));setIsScanning(false);setScanStatus('âœ… PhÃ¢n tÃ­ch hoÃ n táº¥t! Avatar 3D Ä‘Ã£ Ä‘Æ°á»£c táº¡o tá»« khuÃ´n máº·t cá»§a báº¡n.');},500);};const retakePhoto=()=>{setCapturedImage(null);setScanStatus('');setIsScanning(false);setScanProgress(0);startCamera();};// Cleanup camera on unmount or phase change\nuseEffect(()=>{return()=>{stopCamera();};},[phase]);// ============ RENDER WELCOME PHASE ============\nconst renderWelcome=()=>/*#__PURE__*/_jsx(\"div\",{style:styles.fullScreen,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.welcomeBox,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.glowOrb,children:\"\\uD83E\\uDDEC\"}),/*#__PURE__*/_jsx(\"h1\",{style:styles.title,children:\"Human Clone AI\"}),/*#__PURE__*/_jsx(\"p\",{style:styles.subtitle,children:\"T\\u1EA1o nh\\xE2n b\\u1EA3n AI c\\u1EE7a ch\\xEDnh b\\u1EA1n - bi\\u1EBFt suy ngh\\u0129, n\\xF3i chuy\\u1EC7n v\\xE0 h\\xE0nh \\u0111\\u1ED9ng nh\\u01B0 b\\u1EA1n\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.featureGrid,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.featureCard,children:[/*#__PURE__*/_jsx(\"span\",{style:styles.featureIcon,children:\"\\uD83E\\uDDE0\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"H\\u1ECDc t\\xEDnh c\\xE1ch\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Clone h\\u1ECDc c\\xE1ch b\\u1EA1n suy ngh\\u0129 v\\xE0 ph\\u1EA3n \\u1EE9ng\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.featureCard,children:[/*#__PURE__*/_jsx(\"span\",{style:styles.featureIcon,children:\"\\uD83D\\uDCAC\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"N\\xF3i nh\\u01B0 b\\u1EA1n\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Clone n\\xF3i chuy\\u1EC7n v\\u1EDBi gi\\u1ECDng \\u0111i\\u1EC7u c\\u1EE7a b\\u1EA1n\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.featureCard,children:[/*#__PURE__*/_jsx(\"span\",{style:styles.featureIcon,children:\"\\uD83D\\uDE0A\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Bi\\u1EC3u c\\u1EA3m th\\u1EF1c\"}),/*#__PURE__*/_jsx(\"p\",{children:\"C\\u1EA3m x\\xFAc v\\xE0 bi\\u1EC3u c\\u1EA3m nh\\u01B0 con ng\\u01B0\\u1EDDi\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.featureCard,children:[/*#__PURE__*/_jsx(\"span\",{style:styles.featureIcon,children:\"\\uD83C\\uDFAD\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Nh\\u1EDB m\\u1ECDi th\\u1EE9\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Clone ghi nh\\u1EDB v\\xE0 h\\u1ECDc t\\u1EEB cu\\u1ED9c tr\\xF2 chuy\\u1EC7n\"})]})]}),/*#__PURE__*/_jsx(\"input\",{ref:nameInputRef,type:\"text\",placeholder:\"Nh\\u1EADp t\\xEAn cho Clone c\\u1EE7a b\\u1EA1n...\",value:cloneData.name,onChange:handleNameChange,style:styles.nameInput,autoFocus:true}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>cloneData.name&&setPhase('facescan'),disabled:!cloneData.name,style:_objectSpread(_objectSpread({},styles.primaryBtn),{},{opacity:cloneData.name?1:0.5}),children:[\"\\uD83D\\uDCF8 Ch\\u1EE5p khu\\xF4n m\\u1EB7t cho \",cloneData.name||'Clone']})]})});// ============ RENDER FACE SCAN PHASE ============\nconst renderFaceScan=()=>/*#__PURE__*/_jsx(\"div\",{style:styles.fullScreen,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.faceScanBox,children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.phaseTitle,children:\"\\uD83D\\uDCF8 Qu\\xE9t khu\\xF4n m\\u1EB7t c\\u1EE7a b\\u1EA1n\"}),/*#__PURE__*/_jsx(\"p\",{style:styles.subtitle,children:\"AI s\\u1EBD ph\\xE2n t\\xEDch v\\xE0 t\\u1EA1o avatar 3D t\\u1EEB khu\\xF4n m\\u1EB7t th\\u1EADt\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.cameraContainer,children:!capturedImage?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"video\",{ref:webcamRef,style:_objectSpread(_objectSpread({},styles.videoPreview),{},{transform:'scaleX(-1)',display:cameraActive?'block':'none'}),autoPlay:true,playsInline:true,muted:true}),!cameraActive&&/*#__PURE__*/_jsxs(\"div\",{style:styles.cameraPlaceholder,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'80px'},children:\"\\uD83D\\uDCF7\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Camera ch\\u01B0a \\u0111\\u01B0\\u1EE3c b\\u1EADt\"})]}),cameraActive&&/*#__PURE__*/_jsxs(\"div\",{style:styles.faceGuide,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.faceOval}),/*#__PURE__*/_jsx(\"div\",{style:styles.scanLine})]})]}):/*#__PURE__*/_jsxs(\"div\",{style:styles.capturedPreview,children:[/*#__PURE__*/_jsx(\"img\",{src:capturedImage,alt:\"Captured face\",style:styles.capturedImage}),isScanning&&/*#__PURE__*/_jsx(\"div\",{style:styles.scanningOverlay,children:/*#__PURE__*/_jsx(\"div\",{style:styles.scanningEffect})}),!isScanning&&/*#__PURE__*/_jsx(\"div\",{style:styles.checkMark,children:\"\\u2705\"})]})}),/*#__PURE__*/_jsx(\"canvas\",{ref:photoCanvasRef,style:{display:'none'}}),isScanning&&/*#__PURE__*/_jsxs(\"div\",{style:styles.analysisProgress,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.progressLabel,children:\"\\uD83D\\uDD0D \\u0110ang ph\\xE2n t\\xEDch khu\\xF4n m\\u1EB7t...\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.progressBarBg,children:/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.progressBarFill),{},{width:\"\".concat(scanProgress,\"%\")})})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.progressPercent,children:[scanProgress,\"%\"]})]}),capturedImage&&!isScanning&&faceFeatures&&/*#__PURE__*/_jsxs(\"div\",{style:styles.analysisResults,children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'15px',color:'#00d9ff'},children:\"\\uD83C\\uDFAF K\\u1EBFt qu\\u1EA3 ph\\xE2n t\\xEDch:\"}),/*#__PURE__*/_jsxs(\"div\",{style:styles.featureList,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.featureItem,children:[/*#__PURE__*/_jsx(\"span\",{children:\"M\\xE0u da:\"}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.colorSwatch),{},{background:faceFeatures.skinTone})})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.featureItem,children:[/*#__PURE__*/_jsx(\"span\",{children:\"M\\xE0u t\\xF3c:\"}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.colorSwatch),{},{background:faceFeatures.hairColor})})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.featureItem,children:[/*#__PURE__*/_jsx(\"span\",{children:\"M\\xE0u m\\u1EAFt:\"}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.colorSwatch),{},{background:faceFeatures.eyeColor})})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.featureItem,children:[/*#__PURE__*/_jsx(\"span\",{children:\"H\\xECnh m\\u1EB7t:\"}),/*#__PURE__*/_jsx(\"span\",{style:styles.featureValue,children:faceFeatures.faceShape==='oval'?'TrÃ¡i xoan':faceFeatures.faceShape==='round'?'TrÃ²n':faceFeatures.faceShape==='square'?'VuÃ´ng':'TrÃ¡i tim'})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.featureItem,children:[/*#__PURE__*/_jsx(\"span\",{children:\"Ki\\u1EC3u t\\xF3c:\"}),/*#__PURE__*/_jsx(\"span\",{style:styles.featureValue,children:faceFeatures.hairStyle==='short'?'Ngáº¯n':'DÃ i'})]})]})]}),/*#__PURE__*/_jsx(\"p\",{style:styles.scanStatus,children:scanStatus}),/*#__PURE__*/_jsxs(\"div\",{style:styles.btnGroup,children:[!cameraActive&&!capturedImage&&/*#__PURE__*/_jsx(\"button\",{onClick:startCamera,style:styles.primaryBtn,children:\"\\uD83C\\uDFA5 M\\u1EDF Camera\"}),cameraActive&&!capturedImage&&/*#__PURE__*/_jsx(\"button\",{onClick:capturePhoto,style:styles.captureBtn,children:\"\\uD83D\\uDCF8 Qu\\xE9t khu\\xF4n m\\u1EB7t\"}),capturedImage&&!isScanning&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:retakePhoto,style:styles.secondaryBtn,children:\"\\uD83D\\uDD04 Qu\\xE9t l\\u1EA1i\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPhase('training'),style:styles.primaryBtn,children:\"\\u2705 T\\u1EA1o Avatar 3D\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{stopCamera();setPhase('training');},style:styles.skipBtn,children:\"B\\u1ECF qua, d\\xF9ng avatar m\\u1EB7c \\u0111\\u1ECBnh \\u2192\"})]})});// ============ RENDER TRAINING PHASE ============\nconst renderTraining=()=>{const progress=(currentQuestion+1)/personalityQuestions.length*100;return/*#__PURE__*/_jsx(\"div\",{style:styles.fullScreen,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.trainingBox,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.progressBar,children:/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.progressFill),{},{width:\"\".concat(progress,\"%\")})})}),/*#__PURE__*/_jsxs(\"h2\",{style:styles.phaseTitle,children:[\"\\uD83E\\uDDE0 D\\u1EA1y \",cloneData.name,\" hi\\u1EC3u b\\u1EA1n\"]}),/*#__PURE__*/_jsxs(\"p\",{style:styles.questionCount,children:[\"C\\xE2u h\\u1ECFi \",currentQuestion+1,\" / \",personalityQuestions.length]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.questionCard,children:[/*#__PURE__*/_jsx(\"p\",{style:styles.question,children:personalityQuestions[currentQuestion].q}),/*#__PURE__*/_jsx(\"textarea\",{ref:answerInputRef,value:personalityQuestions[currentQuestion].a,onChange:e=>handleAnswer(e.target.value),placeholder:\"Tr\\u1EA3 l\\u1EDDi c\\xE0ng chi ti\\u1EBFt, Clone c\\xE0ng gi\\u1ED1ng b\\u1EA1n...\",style:styles.answerInput,rows:4,autoFocus:true},\"answer-\".concat(currentQuestion))]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.btnGroup,children:[currentQuestion>0&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentQuestion(currentQuestion-1),style:styles.secondaryBtn,children:\"\\u2190 Quay l\\u1EA1i\"}),/*#__PURE__*/_jsx(\"button\",{onClick:nextQuestion,disabled:!personalityQuestions[currentQuestion].a,style:_objectSpread(_objectSpread({},styles.primaryBtn),{},{opacity:personalityQuestions[currentQuestion].a?1:0.5}),children:currentQuestion===personalityQuestions.length-1?'HoÃ n thÃ nh âœ“':'Tiáº¿p theo â†’'})]})]})});};// ============ RENDER PERSONALITY PHASE ============\nconst renderPersonality=()=>/*#__PURE__*/_jsx(\"div\",{style:styles.fullScreen,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.trainingBox,children:[/*#__PURE__*/_jsxs(\"h2\",{style:styles.phaseTitle,children:[\"\\uD83D\\uDCAC D\\u1EA1y \",cloneData.name,\" n\\xF3i nh\\u01B0 b\\u1EA1n\"]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.inputSection,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Vi\\u1EBFt m\\u1ED9t \\u0111o\\u1EA1n chat m\\u1EABu theo c\\xE1ch b\\u1EA1n th\\u01B0\\u1EDDng n\\xF3i:\"}),/*#__PURE__*/_jsx(\"textarea\",{value:sampleConvo,onChange:e=>setSampleConvo(e.target.value),placeholder:\"V\\xED d\\u1EE5:\\n- \\xCA, c\\xF3 g\\xEC hot kh\\xF4ng?\\n- Oke lu\\xF4n, ez game!\\n- Hmm \\u0111\\u1EC3 tao ngh\\u0129 xem...\\n- Chill \\u0111i bro, m\\u1ECDi chuy\\u1EC7n s\\u1EBD \\u1ED5n th\\xF4i\",style:_objectSpread(_objectSpread({},styles.answerInput),{},{minHeight:'150px'}),autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.inputSection,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Nh\\u1EEFng c\\xE2u c\\u1EEDa mi\\u1EC7ng b\\u1EA1n hay d\\xF9ng (m\\u1ED7i c\\xE2u 1 d\\xF2ng):\"}),/*#__PURE__*/_jsx(\"textarea\",{value:catchphrases,onChange:e=>setCatchphrases(e.target.value),placeholder:\"V\\xED d\\u1EE5:\\nChill \\u0111i\\nOke lu\\xF4n\\nEz game\\nHmm...\",style:_objectSpread(_objectSpread({},styles.answerInput),{},{minHeight:'100px'})})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:finishSetup,style:styles.primaryBtn,children:[\"\\uD83C\\uDFAD T\\u1EA1o \",cloneData.name,\" ngay!\"]})]})});// ============ PHASE 4: THE CLONE ============\n// Using real face photo instead of 3D (Three.js removed)\n// Generate clone response based on personality\nconst generateCloneResponse=async userMsg=>{setIsThinking(true);setCloneEmotion('thinking');// Build personality context\nconst personalityContext=cloneData.personality.map(p=>\"\".concat(p.category,\": \").concat(p.response)).join('\\n');const catchphrases=cloneData.speakingStyle||'';// Create prompt that makes AI respond like the user\nconst clonePrompt=\"B\\u1EA1n l\\xE0 \".concat(cloneData.name,\", m\\u1ED9t nh\\xE2n b\\u1EA3n AI c\\u1EE7a ng\\u01B0\\u1EDDi d\\xF9ng. \\n\\u0110\\xE2y l\\xE0 t\\xEDnh c\\xE1ch v\\xE0 c\\xE1ch n\\xF3i c\\u1EE7a b\\u1EA1n:\\n\").concat(personalityContext,\"\\n\\nPhong c\\xE1ch n\\xF3i chuy\\u1EC7n m\\u1EABu:\\n\").concat(catchphrases,\"\\n\\nQUAN TR\\u1ECCNG: H\\xE3y tr\\u1EA3 l\\u1EDDi \\u0110\\xDANG nh\\u01B0 c\\xE1ch ng\\u01B0\\u1EDDi d\\xF9ng s\\u1EBD tr\\u1EA3 l\\u1EDDi. S\\u1EED d\\u1EE5ng c\\xE1c c\\xE2u c\\u1EEDa mi\\u1EC7ng, gi\\u1ECDng \\u0111i\\u1EC7u v\\xE0 t\\xEDnh c\\xE1ch \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c training.\\nKh\\xF4ng n\\xF3i \\\"T\\xF4i l\\xE0 AI\\\" hay \\\"T\\xF4i kh\\xF4ng th\\u1EC3\\\". H\\xE3y tr\\u1EA3 l\\u1EDDi nh\\u01B0 m\\u1ED9t con ng\\u01B0\\u1EDDi th\\u1EF1c s\\u1EF1 v\\u1EDBi t\\xEDnh c\\xE1ch \\u0111\\xE3 cho.\\n\\nL\\u1ECBch s\\u1EED tr\\xF2 chuy\\u1EC7n:\\n\").concat(messages.slice(-6).map(m=>\"\".concat(m.role==='user'?'NgÆ°á»i dÃ¹ng':cloneData.name,\": \").concat(m.content)).join('\\n'),\"\\n\\nNg\\u01B0\\u1EDDi d\\xF9ng: \").concat(userMsg,\"\\n\").concat(cloneData.name,\":\");try{const response=await axios.post('http://localhost:8000/api/chat',{text:clonePrompt});setIsThinking(false);return response.data.ai_response;}catch(error){setIsThinking(false);// Fallback: generate response based on personality locally\nconst styles=cloneData.speakingStyle.split('\\n').filter(s=>s.trim());const randomStyle=styles[Math.floor(Math.random()*styles.length)]||'Oke';return\"\".concat(randomStyle,\" \").concat(userMsg.includes('?')?'Äá»ƒ tao nghÄ© xem...':'');}};// Detect emotion from text\nconst detectEmotion=text=>{const lower=text.toLowerCase();if(lower.match(/vui|haha|ðŸ˜Š|ðŸ˜„|tuyá»‡t|hay|thÃ­ch/))return'happy';if(lower.match(/buá»“n|ðŸ˜¢|ðŸ˜­|chÃ¡n|má»‡t/))return'sad';if(lower.match(/gÃ¬|sao|nhÆ° tháº¿ nÃ o|\\?/))return'thinking';if(lower.match(/wow|á»“|ðŸ˜®|tháº­t sao/))return'surprised';return'neutral';};// Send message\nconst sendMessage=async()=>{if(!inputText.trim()||isThinking)return;const userMsg=inputText.trim();setInputText('');setMessages(prev=>[...prev,{role:'user',content:userMsg}]);// Get clone response\nconst cloneResponse=await generateCloneResponse(userMsg);// Detect and set emotion\nconst emotion=detectEmotion(cloneResponse);setCloneEmotion(emotion);// Update mood based on conversation\nif(emotion==='happy')setCloneMood(prev=>Math.min(100,prev+5));if(emotion==='sad')setCloneMood(prev=>Math.max(0,prev-5));setMessages(prev=>[...prev,{role:'clone',content:cloneResponse}]);// Speak the response\nspeakResponse(cloneResponse);};// Text-to-speech\nconst speakResponse=text=>{setIsSpeaking(true);const utterance=new SpeechSynthesisUtterance(text);utterance.lang='vi-VN';utterance.rate=1.0;utterance.pitch=1.0;utterance.onend=()=>{setIsSpeaking(false);setCloneEmotion('neutral');};window.speechSynthesis.speak(utterance);};// Voice input\nconst startListening=()=>{const recognition=new(window.SpeechRecognition||window.webkitSpeechRecognition)();recognition.lang='vi-VN';recognition.continuous=false;recognition.onstart=()=>setIsListening(true);recognition.onresult=e=>{const text=e.results[0][0].transcript;setInputText(text);setIsListening(false);};recognition.onerror=()=>setIsListening(false);recognition.start();};// Clone Screen - Using real face photo with Face Recognition overlay\nconst CloneScreen=()=>/*#__PURE__*/_jsxs(\"div\",{style:styles.cloneScreenContainer,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.cloneBackground}),/*#__PURE__*/_jsxs(\"div\",{style:styles.faceDisplayArea,children:[capturedImage?/*#__PURE__*/_jsxs(\"div\",{style:styles.realFaceContainer,children:[/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.faceRecognitionFrame),{},{borderColor:cloneEmotion==='happy'?'#4ECDC4':cloneEmotion==='sad'?'#6B6B9C':cloneEmotion==='thinking'?'#FFB84D':'#ff7043',boxShadow:\"0 0 30px \".concat(cloneEmotion==='happy'?'#4ECDC4':cloneEmotion==='sad'?'#6B6B9C':cloneEmotion==='thinking'?'#FFB84D':'#ff7043',\"4d\")}),children:[/*#__PURE__*/_jsx(\"div\",{style:styles.cornerTopLeft}),/*#__PURE__*/_jsx(\"div\",{style:styles.cornerTopRight}),/*#__PURE__*/_jsx(\"div\",{style:styles.cornerBottomLeft}),/*#__PURE__*/_jsx(\"div\",{style:styles.cornerBottomRight})]}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.faceGlow),{},{boxShadow:cloneEmotion==='happy'?'0 0 120px 60px rgba(78, 205, 196, 0.5)':cloneEmotion==='sad'?'0 0 120px 60px rgba(107, 107, 156, 0.4)':cloneEmotion==='thinking'?'0 0 120px 60px rgba(255, 184, 77, 0.5)':'0 0 120px 60px rgba(255, 112, 67, 0.4)',animation:isSpeaking?'glowPulse 0.5s ease-in-out infinite':'none'})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.imageScanContainer,children:[/*#__PURE__*/_jsx(\"img\",{src:capturedImage,alt:\"Clone face\",style:_objectSpread(_objectSpread({},styles.realFaceImage),{},{transform:isSpeaking?'scale(1.03)':isThinking?'scale(0.98)':'scale(1)',filter:cloneEmotion==='happy'?'brightness(1.15) saturate(1.2) contrast(1.1)':cloneEmotion==='sad'?'brightness(0.85) saturate(0.7) contrast(1.05)':cloneEmotion==='thinking'?'brightness(1.08) saturate(1) contrast(1.1)':'brightness(1) saturate(1) contrast(1.05)',animation:isSpeaking?'speaking 0.12s ease-in-out infinite':isThinking?'thinking 2s ease-in-out infinite':'idle 4s ease-in-out infinite'})}),isThinking&&/*#__PURE__*/_jsx(\"div\",{style:styles.scanningLine})]}),isSpeaking&&/*#__PURE__*/_jsxs(\"div\",{style:styles.speakingWave,children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.waveBar),{},{animationDelay:'0s'})}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.waveBar),{},{animationDelay:'0.1s'})}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.waveBar),{},{animationDelay:'0.2s'})}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.waveBar),{},{animationDelay:'0.3s'})}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.waveBar),{},{animationDelay:'0.4s'})})]}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.emotionBubble),{},{boxShadow:\"0 10px 30px \".concat(cloneEmotion==='happy'?'#4ECDC4':cloneEmotion==='sad'?'#6B6B9C':cloneEmotion==='thinking'?'#FFB84D':'#ff7043',\"66\")}),children:[cloneEmotion==='happy'&&'ðŸ˜Š',cloneEmotion==='sad'&&'ðŸ˜¢',cloneEmotion==='thinking'&&'ðŸ¤”',cloneEmotion==='surprised'&&'ðŸ˜®',cloneEmotion==='neutral'&&'ðŸ˜Œ']}),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},styles.nameTag),{},{boxShadow:'0 10px 30px rgba(255,112,67,0.3)'}),children:[/*#__PURE__*/_jsx(\"span\",{style:styles.nameTagIcon,children:\"\\uD83E\\uDDEC\"}),/*#__PURE__*/_jsx(\"span\",{children:cloneData.name})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.statusIndicators,children:[isSpeaking&&/*#__PURE__*/_jsx(\"div\",{style:styles.statusDot,title:\"Speaking\",children:\"\\uD83D\\uDD0A\"}),isThinking&&/*#__PURE__*/_jsx(\"div\",{style:styles.statusDot,title:\"Thinking\",children:\"\\uD83E\\uDD16\"}),!isSpeaking&&!isThinking&&/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.statusDot),{},{color:'#4ECDC4'}),title:\"Ready\",children:\"\\u2713\"})]})]}):/*#__PURE__*//* Fallback if no image - show placeholder */_jsxs(\"div\",{style:styles.noFacePlaceholder,children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'100px',marginBottom:'20px'},children:\"\\uD83D\\uDC64\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'1.2rem',opacity:0.7},children:\"Kh\\xF4ng c\\xF3 \\u1EA3nh khu\\xF4n m\\u1EB7t\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.9rem',opacity:0.5},children:\"Vui l\\xF2ng quay l\\u1EA1i v\\xE0 ch\\u1EE5p \\u1EA3nh\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.moodIndicator,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.moodLabel,children:\"\\uD83D\\uDC9D T\\xE2m tr\\u1EA1ng\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.moodBarLarge,children:/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.moodFillLarge),{},{width:\"\".concat(cloneMood,\"%\"),background:cloneMood>70?'linear-gradient(90deg, #4ECDC4, #44E5B8)':cloneMood>40?'linear-gradient(90deg, #FFB84D, #FFA726)':'linear-gradient(90deg, #FF6B6B, #FF5252)',boxShadow:cloneMood>70?'0 0 15px rgba(78,205,196,0.5)':cloneMood>40?'0 0 15px rgba(255,184,77,0.5)':'0 0 15px rgba(255,107,107,0.5)'})})}),/*#__PURE__*/_jsxs(\"div\",{style:styles.moodValue,children:[cloneMood,\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.chatPanel,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.chatHeader,children:[\"\\uD83D\\uDCAC Tr\\xF2 chuy\\u1EC7n v\\u1EDBi \",cloneData.name,isThinking&&/*#__PURE__*/_jsx(\"span\",{style:styles.thinkingBadge,children:\"\\uD83E\\uDD14 Suy ngh\\u0129...\"}),isSpeaking&&/*#__PURE__*/_jsx(\"span\",{style:styles.speakingBadge,children:\"\\uD83D\\uDD0A \\u0110ang n\\xF3i...\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.chatMessages,children:[messages.length===0&&/*#__PURE__*/_jsxs(\"div\",{style:styles.emptyChat,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83D\\uDC4B Ch\\xE0o! T\\xF4i l\\xE0 \",cloneData.name,\", nh\\xE2n b\\u1EA3n c\\u1EE7a b\\u1EA1n.\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"H\\xE3y n\\xF3i chuy\\u1EC7n v\\u1EDBi t\\xF4i nh\\u01B0 n\\xF3i chuy\\u1EC7n v\\u1EDBi ch\\xEDnh m\\xECnh!\"})]}),messages.map((msg,i)=>/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},styles.message),{},{alignSelf:msg.role==='user'?'flex-end':'flex-start',background:msg.role==='user'?'#ff7043':'rgba(255,255,255,0.1)'}),children:msg.content},i))]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.chatInput,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputText,onChange:e=>setInputText(e.target.value),onKeyPress:e=>e.key==='Enter'&&sendMessage(),placeholder:\"N\\xF3i g\\xEC \\u0111\\xF3 v\\u1EDBi \".concat(cloneData.name,\"...\"),style:styles.textInput}),/*#__PURE__*/_jsx(\"button\",{onClick:startListening,disabled:isListening,style:_objectSpread(_objectSpread({},styles.iconBtn),{},{background:isListening?'#FF6B6B':'#4ECDC4'}),children:\"\\uD83C\\uDFA4\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,disabled:isThinking||!inputText.trim(),style:styles.iconBtn,children:\"\\uD83D\\uDCAC\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.emotionBar,children:[/*#__PURE__*/_jsx(\"span\",{style:{opacity:0.7},children:\"Bi\\u1EC3u c\\u1EA3m:\"}),['neutral','happy','sad','thinking','surprised'].map(em=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCloneEmotion(em),style:_objectSpread(_objectSpread({},styles.emotionBtn),{},{border:cloneEmotion===em?'2px solid #ff7043':'2px solid transparent',transform:cloneEmotion===em?'scale(1.1)':'scale(1)'}),children:[em==='neutral'&&'ðŸ˜',em==='happy'&&'ðŸ˜Š',em==='sad'&&'ðŸ˜¢',em==='thinking'&&'ðŸ¤”',em==='surprised'&&'ðŸ˜®']},em))]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setPhase('welcome');setMessages([]);setCloneData({name:'',personality:[],speakingStyle:'',memories:[],faceData:null,faceImage:null,voiceProfile:null});setCurrentQuestion(0);setPersonalityQuestions(prev=>prev.map(q=>_objectSpread(_objectSpread({},q),{},{a:''})));setSampleConvo('');setCatchphrases('');setCapturedImage(null);setFaceFeatures({skinTone:'#f5c6a5',hairColor:'#1a1a1a',eyeColor:'#4a3728',faceShape:'oval',faceWidth:1.0,faceLength:1.2,eyeSize:0.2,eyeDistance:0.35,noseSize:0.15,mouthWidth:0.3,browThickness:0.08,hasGlasses:false,hairStyle:'short'});},style:styles.resetBtn,children:\"\\uD83D\\uDD04 T\\u1EA1o Clone m\\u1EDBi\"})]});// Render based on phase\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[phase==='welcome'&&renderWelcome(),phase==='facescan'&&renderFaceScan(),phase==='training'&&renderTraining(),phase==='personality'&&renderPersonality(),phase==='clone'&&/*#__PURE__*/_jsx(CloneScreen,{})]});};// Styles\nconst styles={fullScreen:{width:'100%',height:'100vh',background:'linear-gradient(135deg, #0a0a1a 0%, #1a1a3e 50%, #0a0a1a 100%)',display:'flex',alignItems:'center',justifyContent:'center',fontFamily:\"'Segoe UI', sans-serif\",color:'white'},welcomeBox:{textAlign:'center',padding:'50px',maxWidth:'800px'},glowOrb:{fontSize:'80px',marginBottom:'20px',animation:'pulse 2s infinite'},title:{fontSize:'3rem',marginBottom:'15px',background:'linear-gradient(90deg, #ff9a56, #ff7043, #ff9a56)',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent'},subtitle:{fontSize:'1.3rem',opacity:0.8,marginBottom:'40px'},featureGrid:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(180px, 1fr))',gap:'20px',marginBottom:'40px'},featureCard:{background:'rgba(255,255,255,0.05)',padding:'25px 15px',borderRadius:'15px',backdropFilter:'blur(10px)'},featureIcon:{fontSize:'40px',display:'block',marginBottom:'10px'},nameInput:{width:'100%',maxWidth:'400px',padding:'15px 25px',fontSize:'1.1rem',background:'rgba(255,255,255,0.1)',border:'2px solid rgba(255,255,255,0.2)',borderRadius:'30px',color:'white',outline:'none',marginBottom:'20px',textAlign:'center',boxSizing:'border-box',pointerEvents:'auto',zIndex:100,position:'relative'},primaryBtn:{padding:'15px 40px',fontSize:'1.2rem',background:'linear-gradient(135deg, #ff9a56 0%, #ff7043 100%)',color:'white',border:'none',borderRadius:'30px',cursor:'pointer',fontWeight:'bold',transition:'all 0.3s'},secondaryBtn:{padding:'12px 30px',fontSize:'1rem',background:'rgba(255,255,255,0.1)',color:'white',border:'2px solid rgba(255,255,255,0.3)',borderRadius:'25px',cursor:'pointer'},trainingBox:{background:'rgba(255,255,255,0.05)',padding:'40px',borderRadius:'20px',maxWidth:'600px',width:'90%',backdropFilter:'blur(10px)'},progressBar:{height:'8px',background:'rgba(255,255,255,0.1)',borderRadius:'4px',marginBottom:'30px',overflow:'hidden'},progressFill:{height:'100%',background:'linear-gradient(90deg, #ff9a56, #ff7043)',transition:'width 0.5s'},phaseTitle:{fontSize:'1.8rem',marginBottom:'10px'},questionCount:{opacity:0.7,marginBottom:'30px'},questionCard:{background:'rgba(255,255,255,0.05)',padding:'25px',borderRadius:'15px',marginBottom:'25px'},question:{fontSize:'1.2rem',marginBottom:'15px'},answerInput:{width:'100%',padding:'15px',fontSize:'1rem',background:'rgba(255,255,255,0.1)',border:'1px solid rgba(255,255,255,0.2)',borderRadius:'10px',color:'white',outline:'none',resize:'vertical',boxSizing:'border-box',pointerEvents:'auto',zIndex:100,position:'relative'},btnGroup:{display:'flex',gap:'15px',justifyContent:'center'},inputSection:{marginBottom:'25px'},label:{display:'block',marginBottom:'10px',opacity:0.9},cloneInfo:{position:'absolute',top:20,left:20,background:'rgba(10,10,26,0.9)',padding:'15px 25px',borderRadius:'15px',backdropFilter:'blur(10px)'},cloneName:{fontSize:'1.3rem',fontWeight:'bold',marginBottom:'10px',color:'#ff9a56'},moodBar:{display:'flex',alignItems:'center',gap:'10px',fontSize:'14px'},moodTrack:{width:'100px',height:'8px',background:'rgba(255,255,255,0.1)',borderRadius:'4px',overflow:'hidden'},moodFill:{height:'100%',transition:'all 0.5s'},chatPanel:{position:'absolute',bottom:20,right:20,width:'400px',maxHeight:'70vh',background:'rgba(10,10,26,0.95)',borderRadius:'20px',padding:'20px',backdropFilter:'blur(10px)',display:'flex',flexDirection:'column'},chatHeader:{fontSize:'1.1rem',fontWeight:'bold',marginBottom:'15px',display:'flex',alignItems:'center',gap:'10px',flexWrap:'wrap'},thinkingBadge:{fontSize:'12px',background:'rgba(255,184,77,0.2)',padding:'4px 10px',borderRadius:'10px',color:'#FFB84D'},speakingBadge:{fontSize:'12px',background:'rgba(78,205,196,0.2)',padding:'4px 10px',borderRadius:'10px',color:'#4ECDC4'},chatMessages:{flex:1,overflowY:'auto',marginBottom:'15px',display:'flex',flexDirection:'column',gap:'10px',maxHeight:'300px',padding:'10px',background:'rgba(255,255,255,0.03)',borderRadius:'10px'},emptyChat:{textAlign:'center',opacity:0.7,padding:'20px'},message:{padding:'10px 15px',borderRadius:'15px',maxWidth:'85%',fontSize:'14px'},chatInput:{display:'flex',gap:'10px'},textInput:{flex:1,padding:'12px 15px',borderRadius:'25px',border:'none',background:'rgba(255,255,255,0.1)',color:'white',outline:'none',fontSize:'14px'},iconBtn:{width:'45px',height:'45px',borderRadius:'50%',border:'none',background:'#ff7043',color:'white',fontSize:'18px',cursor:'pointer'},emotionBar:{marginTop:'15px',display:'flex',gap:'8px',alignItems:'center',justifyContent:'center',fontSize:'14px'},emotionBtn:{width:'35px',height:'35px',borderRadius:'50%',background:'rgba(255,255,255,0.1)',border:'2px solid transparent',cursor:'pointer',fontSize:'18px'},resetBtn:{position:'absolute',top:20,right:20,padding:'10px 20px',background:'rgba(255,255,255,0.1)',border:'2px solid rgba(255,255,255,0.2)',borderRadius:'25px',color:'white',cursor:'pointer',fontSize:'14px'},// Face Scan Styles\nfaceScanBox:{textAlign:'center',padding:'40px',maxWidth:'600px',width:'90%'},cameraContainer:{position:'relative',width:'100%',maxWidth:'400px',aspectRatio:'4/3',margin:'30px auto',borderRadius:'20px',overflow:'hidden',background:'rgba(0,0,0,0.5)',border:'3px solid rgba(255,255,255,0.2)'},videoPreview:{width:'100%',height:'100%',objectFit:'cover'},cameraPlaceholder:{display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',height:'100%',opacity:0.5},faceGuide:{position:'absolute',top:0,left:0,right:0,bottom:0,display:'flex',alignItems:'center',justifyContent:'center',pointerEvents:'none'},faceOval:{width:'200px',height:'260px',border:'3px dashed rgba(0,217,255,0.7)',borderRadius:'50%',boxShadow:'0 0 30px rgba(0,217,255,0.3)'},scanLine:{position:'absolute',width:'180px',height:'3px',background:'linear-gradient(90deg, transparent, #00d9ff, transparent)',animation:'scanMove 2s ease-in-out infinite',boxShadow:'0 0 20px #00d9ff'},scanningOverlay:{position:'absolute',top:0,left:0,right:0,bottom:0,background:'rgba(0,0,0,0.3)',display:'flex',alignItems:'center',justifyContent:'center'},scanningEffect:{width:'100%',height:'5px',background:'linear-gradient(90deg, transparent, #00d9ff, transparent)',animation:'scanMove 1.5s ease-in-out infinite',boxShadow:'0 0 30px #00d9ff'},capturedPreview:{position:'relative',width:'100%',height:'100%'},capturedImage:{width:'100%',height:'100%',objectFit:'cover'},checkMark:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',fontSize:'80px',textShadow:'0 0 30px rgba(0,255,0,0.5)'},scanStatus:{fontSize:'1rem',marginBottom:'20px',minHeight:'24px'},// Analysis Progress\nanalysisProgress:{margin:'20px auto',maxWidth:'350px'},progressLabel:{marginBottom:'10px',color:'#00d9ff',fontSize:'1.1rem'},progressBarBg:{width:'100%',height:'10px',background:'rgba(255,255,255,0.1)',borderRadius:'10px',overflow:'hidden'},progressBarFill:{height:'100%',background:'linear-gradient(90deg, #00d9ff, #00ff88)',borderRadius:'10px',transition:'width 0.3s ease'},progressPercent:{marginTop:'8px',color:'#00ff88',fontWeight:'bold'},// Analysis Results\nanalysisResults:{background:'rgba(0,217,255,0.1)',border:'1px solid rgba(0,217,255,0.3)',borderRadius:'15px',padding:'20px',margin:'20px auto',maxWidth:'350px'},featureList:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'12px',textAlign:'left'},featureItem:{display:'flex',alignItems:'center',justifyContent:'space-between',padding:'8px 12px',background:'rgba(255,255,255,0.05)',borderRadius:'8px'},colorSwatch:{width:'25px',height:'25px',borderRadius:'50%',border:'2px solid rgba(255,255,255,0.3)'},featureValue:{color:'#00ff88',fontWeight:'bold'},captureBtn:{padding:'20px 50px',fontSize:'1.3rem',background:'linear-gradient(135deg, #00d9ff 0%, #00ff88 100%)',color:'#1a1a2e',border:'none',borderRadius:'50px',cursor:'pointer',fontWeight:'bold',boxShadow:'0 10px 40px rgba(0, 217, 255, 0.4)',animation:'pulse 2s infinite'},skipBtn:{marginTop:'30px',padding:'10px 25px',background:'transparent',border:'none',color:'rgba(255,255,255,0.5)',cursor:'pointer',fontSize:'0.9rem',textDecoration:'underline'},// Face Avatar in Clone Screen\nfaceAvatarOverlay:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',zIndex:10,pointerEvents:'none'},faceAvatarImage:{width:'300px',height:'300px',borderRadius:'50%',objectFit:'cover',border:'5px solid rgba(255,255,255,0.3)',boxShadow:'0 20px 60px rgba(0,0,0,0.5), 0 0 100px rgba(255,112,67,0.3)'},emotionOverlay:{position:'absolute',bottom:'-10px',right:'-10px'},emotionEmoji:{fontSize:'50px',filter:'drop-shadow(0 5px 15px rgba(0,0,0,0.5))'},// Small face reference\nfaceReference:{position:'absolute',bottom:20,left:20,display:'flex',flexDirection:'column',alignItems:'center',gap:'5px',background:'rgba(10,10,26,0.8)',padding:'10px',borderRadius:'15px',backdropFilter:'blur(10px)'},faceRefImage:{width:'60px',height:'60px',borderRadius:'50%',objectFit:'cover',border:'2px solid rgba(0,217,255,0.5)'},// Clone Screen - Real Face Styles\ncloneScreenContainer:{width:'100%',height:'100vh',position:'relative',display:'flex',fontFamily:\"'Segoe UI', sans-serif\",color:'white',overflow:'hidden'},cloneBackground:{position:'absolute',top:0,left:0,right:0,bottom:0,background:'linear-gradient(135deg, #0a0a1a 0%, #1a1a3e 30%, #2d1f47 60%, #0a0a1a 100%)',zIndex:0},faceDisplayArea:{flex:1,display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',position:'relative',zIndex:1,padding:'20px'},realFaceContainer:{position:'relative',display:'flex',flexDirection:'column',alignItems:'center'},faceRecognitionFrame:{position:'absolute',width:'340px',height:'380px',border:'3px solid',borderRadius:'50%',top:'50%',left:'50%',transform:'translate(-50%, -50%)',zIndex:2,pointerEvents:'none',transition:'all 0.5s ease'},cornerTopLeft:{position:'absolute',width:'30px',height:'30px',border:'3px solid currentColor',borderRight:'none',borderBottom:'none',top:'-3px',left:'-3px',borderTopLeftRadius:'8px'},cornerTopRight:{position:'absolute',width:'30px',height:'30px',border:'3px solid currentColor',borderLeft:'none',borderBottom:'none',top:'-3px',right:'-3px',borderTopRightRadius:'8px'},cornerBottomLeft:{position:'absolute',width:'30px',height:'30px',border:'3px solid currentColor',borderRight:'none',borderTop:'none',bottom:'-3px',left:'-3px',borderBottomLeftRadius:'8px'},cornerBottomRight:{position:'absolute',width:'30px',height:'30px',border:'3px solid currentColor',borderLeft:'none',borderTop:'none',bottom:'-3px',right:'-3px',borderBottomRightRadius:'8px'},faceGlow:{position:'absolute',width:'320px',height:'320px',borderRadius:'50%',top:'50%',left:'50%',transform:'translate(-50%, -50%)',zIndex:0,transition:'box-shadow 0.5s ease'},imageScanContainer:{position:'relative',zIndex:1},scanningLine:{position:'absolute',width:'280px',height:'2px',background:'linear-gradient(90deg, transparent, #FFB84D, transparent)',left:'50%',transform:'translateX(-50%)',top:'50%',boxShadow:'0 0 20px #FFB84D',animation:'scanLine 2s ease-in-out infinite',zIndex:3},realFaceImage:{width:'280px',height:'280px',borderRadius:'50%',objectFit:'cover',border:'5px solid rgba(255,255,255,0.3)',boxShadow:'0 20px 60px rgba(0,0,0,0.7), 0 0 40px rgba(0,0,0,0.5)',position:'relative',zIndex:1,transition:'transform 0.3s ease, filter 0.3s ease'},speakingWave:{position:'absolute',bottom:'-50px',left:'50%',transform:'translateX(-50%)',display:'flex',gap:'5px',alignItems:'flex-end',height:'40px',zIndex:2},waveBar:{width:'8px',background:'linear-gradient(180deg, #ff7043, #ff9a56)',borderRadius:'4px',animation:'waveAnim 0.6s ease-in-out infinite'},emotionBubble:{position:'absolute',top:'-20px',right:'-20px',width:'60px',height:'60px',borderRadius:'50%',background:'rgba(255,255,255,0.15)',backdropFilter:'blur(10px)',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'32px',border:'2px solid rgba(255,255,255,0.3)',zIndex:3,transition:'all 0.3s ease'},nameTag:{marginTop:'35px',padding:'14px 35px',background:'rgba(255,112,67,0.25)',border:'2px solid rgba(255,112,67,0.5)',borderRadius:'35px',display:'flex',alignItems:'center',gap:'12px',fontSize:'1.3rem',fontWeight:'bold',backdropFilter:'blur(10px)',transition:'all 0.3s ease'},nameTagIcon:{fontSize:'1.6rem',animation:'pulse 2s infinite'},statusIndicators:{position:'absolute',top:'-15px',left:'-15px',display:'flex',gap:'8px',fontSize:'24px',zIndex:3},statusDot:{animation:'pulse 1s infinite'},noFacePlaceholder:{textAlign:'center',opacity:0.5,padding:'40px'},moodIndicator:{position:'absolute',bottom:'30px',left:'50%',transform:'translateX(-50%)',display:'flex',alignItems:'center',gap:'15px',background:'rgba(10,10,26,0.85)',padding:'14px 28px',borderRadius:'35px',backdropFilter:'blur(12px)',border:'1px solid rgba(255,255,255,0.1)'},moodLabel:{fontSize:'1rem',fontWeight:'bold'},moodBarLarge:{width:'140px',height:'10px',background:'rgba(255,255,255,0.15)',borderRadius:'10px',overflow:'hidden',border:'1px solid rgba(255,255,255,0.2)'},moodFillLarge:{height:'100%',borderRadius:'10px',transition:'width 0.5s ease, background 0.5s ease, box-shadow 0.5s ease'},moodValue:{fontSize:'1rem',fontWeight:'bold',minWidth:'40px',textAlign:'right'},thinkingBadge:{marginLeft:'15px',padding:'5px 12px',background:'rgba(255,184,77,0.2)',borderRadius:'15px',fontSize:'0.8rem',animation:'pulse 1s infinite'},speakingBadge:{marginLeft:'15px',padding:'5px 12px',background:'rgba(78,205,196,0.2)',borderRadius:'15px',fontSize:'0.8rem',animation:'pulse 0.5s infinite'},emptyChat:{textAlign:'center',padding:'30px',opacity:0.7}};// Add keyframe animations via style tag (only once)\nif(!document.getElementById('humanclone-animations')){const styleSheet=document.createElement('style');styleSheet.id='humanclone-animations';styleSheet.textContent=\"\\n    @keyframes pulse {\\n      0%, 100% { transform: scale(1); opacity: 1; }\\n      50% { transform: scale(1.05); opacity: 0.8; }\\n    }\\n    @keyframes talking {\\n      0%, 100% { transform: translate(-50%, -50%) scale(1); }\\n      50% { transform: translate(-50%, -50%) scale(1.02); }\\n    }\\n    @keyframes thinking {\\n      0%, 100% { transform: rotate(-1deg) scale(0.98); }\\n      50% { transform: rotate(1deg) scale(1); }\\n    }\\n    @keyframes breathing {\\n      0%, 100% { transform: translate(-50%, -50%) scale(1); }\\n      50% { transform: translate(-50%, -50%) scale(1.02); }\\n    }\\n    @keyframes scanMove {\\n      0% { top: 10%; }\\n      50% { top: 90%; }\\n      100% { top: 10%; }\\n    }\\n    @keyframes scanLine {\\n      0% { top: 10%; }\\n      100% { top: 90%; }\\n    }\\n    @keyframes speaking {\\n      0%, 100% { transform: scale(1); }\\n      25% { transform: scale(1.01) translateY(-2px); }\\n      50% { transform: scale(1.03); }\\n      75% { transform: scale(1.01) translateY(2px); }\\n    }\\n    @keyframes idle {\\n      0%, 100% { transform: scale(1); }\\n      50% { transform: scale(1.01); }\\n    }\\n    @keyframes waveAnim {\\n      0%, 100% { height: 8px; }\\n      50% { height: 32px; }\\n    }\\n    @keyframes glowPulse {\\n      0%, 100% { opacity: 0.8; }\\n      50% { opacity: 1; }\\n    }\\n  \";document.head.appendChild(styleSheet);}export default HumanClone;","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","HumanClone","phase","setPhase","cloneData","setCloneData","name","personality","speakingStyle","memories","faceData","faceImage","voiceProfile","cameraActive","setCameraActive","capturedImage","setCapturedImage","scanStatus","setScanStatus","isScanning","setIsScanning","scanProgress","setScanProgress","webcamRef","photoCanvasRef","faceFeatures","setFaceFeatures","skinTone","hairColor","eyeColor","faceShape","faceWidth","faceLength","eyeSize","eyeDistance","noseSize","mouthWidth","browThickness","hasGlasses","hairStyle","trainingMessages","setTrainingMessages","personalityQuestions","setPersonalityQuestions","q","a","category","currentQuestion","setCurrentQuestion","messages","setMessages","inputText","setInputText","isThinking","setIsThinking","isSpeaking","setIsSpeaking","isListening","setIsListening","cloneEmotion","setCloneEmotion","cloneMood","setCloneMood","videoRef","canvasRef","nameInputRef","answerInputRef","handleNameChange","e","prev","_objectSpread","target","value","handleAnswer","answer","updated","nextQuestion","length","map","response","sampleConvo","setSampleConvo","catchphrases","setCatchphrases","finishSetup","newCloneData","speaking_style","face_image","face_features","post","console","log","data","id","message","existingClones","JSON","parse","localStorage","getItem","push","createdAt","Date","toLocaleString","setItem","stringify","e2","error","startCamera","stream","navigator","mediaDevices","getUserMedia","video","width","ideal","height","facingMode","current","srcObject","play","err","stopCamera","tracks","getTracks","forEach","track","stop","capturePhoto","canvas","videoWidth","videoHeight","ctx","getContext","translate","scale","drawImage","imageData","toDataURL","analyzeFace","getImageData","progressInterval","setInterval","clearInterval","centerX","Math","floor","centerY","sampleSize","skinPixels","y","x","idx","r","g","b","isSkinLike","max","min","skinR","skinG","skinB","sort","start","end","middlePixels","slice","totalR","totalG","totalB","p","brightness","boost","concat","hairPixels","avgR","avgG","avgB","hairBrightness","totalBrightness","i","avgBrightness","faceShapes","randomShape","random","analyzedFeatures","setTimeout","retakePhoto","renderWelcome","style","styles","fullScreen","children","welcomeBox","glowOrb","title","subtitle","featureGrid","featureCard","featureIcon","ref","type","placeholder","onChange","nameInput","autoFocus","onClick","disabled","primaryBtn","opacity","renderFaceScan","faceScanBox","phaseTitle","cameraContainer","videoPreview","transform","display","autoPlay","playsInline","muted","cameraPlaceholder","fontSize","faceGuide","faceOval","scanLine","capturedPreview","src","alt","scanningOverlay","scanningEffect","checkMark","analysisProgress","progressLabel","progressBarBg","progressBarFill","progressPercent","analysisResults","marginBottom","color","featureList","featureItem","colorSwatch","background","featureValue","btnGroup","captureBtn","secondaryBtn","skipBtn","renderTraining","progress","trainingBox","progressBar","progressFill","questionCount","questionCard","question","answerInput","rows","renderPersonality","inputSection","label","minHeight","generateCloneResponse","userMsg","personalityContext","join","clonePrompt","m","role","content","text","ai_response","split","filter","s","trim","randomStyle","includes","detectEmotion","lower","toLowerCase","match","sendMessage","cloneResponse","emotion","speakResponse","utterance","SpeechSynthesisUtterance","lang","rate","pitch","onend","window","speechSynthesis","speak","startListening","recognition","SpeechRecognition","webkitSpeechRecognition","continuous","onstart","onresult","results","transcript","onerror","CloneScreen","cloneScreenContainer","cloneBackground","faceDisplayArea","realFaceContainer","faceRecognitionFrame","borderColor","boxShadow","cornerTopLeft","cornerTopRight","cornerBottomLeft","cornerBottomRight","faceGlow","animation","imageScanContainer","realFaceImage","scanningLine","speakingWave","waveBar","animationDelay","emotionBubble","nameTag","nameTagIcon","statusIndicators","statusDot","noFacePlaceholder","moodIndicator","moodLabel","moodBarLarge","moodFillLarge","moodValue","chatPanel","chatHeader","thinkingBadge","speakingBadge","chatMessages","emptyChat","msg","alignSelf","chatInput","onKeyPress","key","textInput","iconBtn","emotionBar","em","emotionBtn","border","resetBtn","alignItems","justifyContent","fontFamily","textAlign","padding","maxWidth","WebkitBackgroundClip","WebkitTextFillColor","gridTemplateColumns","gap","borderRadius","backdropFilter","outline","boxSizing","pointerEvents","zIndex","position","cursor","fontWeight","transition","overflow","resize","cloneInfo","top","left","cloneName","moodBar","moodTrack","moodFill","bottom","right","maxHeight","flexDirection","flexWrap","flex","overflowY","marginTop","aspectRatio","margin","objectFit","textShadow","textDecoration","faceAvatarOverlay","faceAvatarImage","emotionOverlay","emotionEmoji","faceReference","faceRefImage","borderRight","borderBottom","borderTopLeftRadius","borderLeft","borderTopRightRadius","borderTop","borderBottomLeftRadius","borderBottomRightRadius","minWidth","marginLeft","document","getElementById","styleSheet","createElement","textContent","head","appendChild"],"sources":["D:/IZ/AIClone/frontend/src/HumanClone.jsx"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst HumanClone = () => {\r\n  // Core states\r\n  const [phase, setPhase] = useState('welcome'); // welcome, facescan, analyzing, training, personality, clone\r\n  const [cloneData, setCloneData] = useState({\r\n    name: '',\r\n    personality: [],\r\n    speakingStyle: '',\r\n    memories: [],\r\n    faceData: null,\r\n    faceImage: null,\r\n    voiceProfile: null,\r\n  });\r\n\r\n  // Face scan states\r\n  const [cameraActive, setCameraActive] = useState(false);\r\n  const [capturedImage, setCapturedImage] = useState(null);\r\n  const [scanStatus, setScanStatus] = useState('');\r\n  const [isScanning, setIsScanning] = useState(false);\r\n  const [scanProgress, setScanProgress] = useState(0);\r\n  const webcamRef = useRef(null);\r\n  const photoCanvasRef = useRef(null);\r\n  \r\n  // Face analysis data - extracted from photo\r\n  const [faceFeatures, setFaceFeatures] = useState({\r\n    skinTone: '#f5c6a5',      // MÃ u da\r\n    hairColor: '#1a1a1a',     // MÃ u tÃ³c\r\n    eyeColor: '#4a3728',      // MÃ u máº¯t\r\n    faceShape: 'oval',        // HÃ¬nh dÃ¡ng máº·t: oval, round, square, heart\r\n    faceWidth: 1.0,           // Äá»™ rá»™ng máº·t\r\n    faceLength: 1.2,          // Äá»™ dÃ i máº·t\r\n    eyeSize: 0.2,             // KÃ­ch thÆ°á»›c máº¯t\r\n    eyeDistance: 0.35,        // Khoáº£ng cÃ¡ch giá»¯a 2 máº¯t\r\n    noseSize: 0.15,           // KÃ­ch thÆ°á»›c mÅ©i\r\n    mouthWidth: 0.3,          // Äá»™ rá»™ng miá»‡ng\r\n    browThickness: 0.08,      // Äá»™ dÃ y lÃ´ng mÃ y\r\n    hasGlasses: false,        // CÃ³ Ä‘eo kÃ­nh khÃ´ng\r\n    hairStyle: 'short',       // Kiá»ƒu tÃ³c: short, long, bald\r\n  });\r\n\r\n  // Training data\r\n  const [trainingMessages, setTrainingMessages] = useState([]);\r\n  const [personalityQuestions, setPersonalityQuestions] = useState([\r\n    { q: 'Báº¡n mÃ´ táº£ tÃ­nh cÃ¡ch cá»§a mÃ¬nh nhÆ° tháº¿ nÃ o?', a: '', category: 'personality' },\r\n    { q: 'Khi vui báº¡n thÆ°á»ng nÃ³i gÃ¬?', a: '', category: 'emotion' },\r\n    { q: 'Khi buá»“n báº¡n thÆ°á»ng lÃ m gÃ¬?', a: '', category: 'emotion' },\r\n    { q: 'CÃ¢u nÃ³i cá»­a miá»‡ng cá»§a báº¡n lÃ  gÃ¬?', a: '', category: 'speech' },\r\n    { q: 'Báº¡n thÃ­ch nÃ³i chuyá»‡n kiá»ƒu nÃ o? (hÃ i hÆ°á»›c, nghiÃªm tÃºc, thÃ¢n thiá»‡n...)', a: '', category: 'style' },\r\n    { q: 'Sá»Ÿ thÃ­ch cá»§a báº¡n lÃ  gÃ¬?', a: '', category: 'interest' },\r\n    { q: 'Báº¡n ghÃ©t Ä‘iá»u gÃ¬ nháº¥t?', a: '', category: 'dislike' },\r\n    { q: 'Má»¥c tiÃªu trong cuá»™c sá»‘ng cá»§a báº¡n?', a: '', category: 'goal' },\r\n  ]);\r\n  const [currentQuestion, setCurrentQuestion] = useState(0);\r\n\r\n  // Clone interaction\r\n  const [messages, setMessages] = useState([]);\r\n  const [inputText, setInputText] = useState('');\r\n  const [isThinking, setIsThinking] = useState(false);\r\n  const [isSpeaking, setIsSpeaking] = useState(false);\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [cloneEmotion, setCloneEmotion] = useState('neutral');\r\n  const [cloneMood, setCloneMood] = useState(70); // 0-100 mood meter\r\n\r\n  // Refs\r\n  const videoRef = useRef(null);\r\n  const canvasRef = useRef(null);\r\n  \r\n  // Input refs to maintain focus\r\n  const nameInputRef = useRef(null);\r\n  const answerInputRef = useRef(null);\r\n\r\n  // Handle name change\r\n  const handleNameChange = (e) => {\r\n    setCloneData(prev => ({ ...prev, name: e.target.value }));\r\n  };\r\n\r\n  // Handle answer change in training\r\n  const handleAnswer = (answer) => {\r\n    const updated = [...personalityQuestions];\r\n    updated[currentQuestion].a = answer;\r\n    setPersonalityQuestions(updated);\r\n  };\r\n\r\n  const nextQuestion = () => {\r\n    if (currentQuestion < personalityQuestions.length - 1) {\r\n      setCurrentQuestion(currentQuestion + 1);\r\n    } else {\r\n      // Compile personality\r\n      const personality = personalityQuestions.map(q => ({\r\n        category: q.category,\r\n        response: q.a,\r\n      }));\r\n      setCloneData(prev => ({ ...prev, personality }));\r\n      setPhase('personality');\r\n    }\r\n  };\r\n\r\n  // Speaking style states (moved to parent)\r\n  const [sampleConvo, setSampleConvo] = useState('');\r\n  const [catchphrases, setCatchphrases] = useState('');\r\n\r\n  const finishSetup = async () => {\r\n    const newCloneData = {\r\n      name: cloneData.name,\r\n      personality: cloneData.personality,\r\n      speaking_style: sampleConvo,\r\n      face_image: capturedImage,\r\n      face_features: faceFeatures,\r\n      memories: [],\r\n    };\r\n\r\n    try {\r\n      // Save to MySQL via API\r\n      const response = await axios.post('http://localhost:8000/api/clones/create', newCloneData);\r\n      console.log('Clone saved to MySQL:', response.data);\r\n      setCloneData({ ...newCloneData, id: response.data.id });\r\n    } catch (e) {\r\n      console.log('MySQL save failed, using localStorage fallback:', e.message);\r\n      \r\n      // Fallback: Save to localStorage\r\n      try {\r\n        const existingClones = JSON.parse(localStorage.getItem('AIClones') || '[]');\r\n        existingClones.push({ ...newCloneData, createdAt: new Date().toLocaleString('vi-VN') });\r\n        localStorage.setItem('AIClones', JSON.stringify(existingClones));\r\n      } catch (e2) {\r\n        console.error('Error saving to localStorage:', e2);\r\n      }\r\n      \r\n      setCloneData(newCloneData);\r\n    }\r\n    \r\n    setPhase('clone');\r\n  };\r\n\r\n  // ============ CAMERA FUNCTIONS ============\r\n  const startCamera = async () => {\r\n    try {\r\n      setScanStatus('Äang má»Ÿ camera...');\r\n      const stream = await navigator.mediaDevices.getUserMedia({ \r\n        video: { \r\n          width: { ideal: 640 },\r\n          height: { ideal: 480 },\r\n          facingMode: 'user'\r\n        } \r\n      });\r\n      if (webcamRef.current) {\r\n        webcamRef.current.srcObject = stream;\r\n        webcamRef.current.play();\r\n        setCameraActive(true);\r\n        setScanStatus('HÃ£y Ä‘Æ°a khuÃ´n máº·t vÃ o khung hÃ¬nh');\r\n      }\r\n    } catch (err) {\r\n      console.error('Camera error:', err);\r\n      setScanStatus('KhÃ´ng thá»ƒ má»Ÿ camera. Vui lÃ²ng cho phÃ©p truy cáº­p camera.');\r\n    }\r\n  };\r\n\r\n  const stopCamera = () => {\r\n    if (webcamRef.current && webcamRef.current.srcObject) {\r\n      const tracks = webcamRef.current.srcObject.getTracks();\r\n      tracks.forEach(track => track.stop());\r\n      webcamRef.current.srcObject = null;\r\n    }\r\n    setCameraActive(false);\r\n  };\r\n\r\n  const capturePhoto = () => {\r\n    if (!webcamRef.current || !photoCanvasRef.current) return;\r\n    \r\n    const video = webcamRef.current;\r\n    const canvas = photoCanvasRef.current;\r\n    canvas.width = video.videoWidth;\r\n    canvas.height = video.videoHeight;\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    // Mirror the image\r\n    ctx.translate(canvas.width, 0);\r\n    ctx.scale(-1, 1);\r\n    ctx.drawImage(video, 0, 0);\r\n    \r\n    const imageData = canvas.toDataURL('image/png');\r\n    setCapturedImage(imageData);\r\n    setCloneData(prev => ({ ...prev, faceImage: imageData }));\r\n    setScanStatus('ðŸ“¸ ÄÃ£ chá»¥p! Äang phÃ¢n tÃ­ch khuÃ´n máº·t...');\r\n    stopCamera();\r\n    \r\n    // Start face analysis\r\n    analyzeFace(canvas);\r\n  };\r\n\r\n  // ============ FACE ANALYSIS ============\r\n  const analyzeFace = async (canvas) => {\r\n    setIsScanning(true);\r\n    setScanProgress(0);\r\n    \r\n    const ctx = canvas.getContext('2d');\r\n    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n    const data = imageData.data;\r\n    \r\n    // Simulate scanning progress\r\n    const progressInterval = setInterval(() => {\r\n      setScanProgress(prev => {\r\n        if (prev >= 90) {\r\n          clearInterval(progressInterval);\r\n          return 90;\r\n        }\r\n        return prev + 10;\r\n      });\r\n    }, 200);\r\n\r\n    // Analyze skin tone from center of image (face area)\r\n    const centerX = Math.floor(canvas.width / 2);\r\n    const centerY = Math.floor(canvas.height / 2);\r\n    const sampleSize = 60;\r\n    \r\n    let skinPixels = [];\r\n    \r\n    // Sample pixels from face area - look for skin-like colors\r\n    for (let y = centerY - sampleSize; y < centerY + sampleSize; y++) {\r\n      for (let x = centerX - sampleSize; x < centerX + sampleSize; x++) {\r\n        if (x >= 0 && x < canvas.width && y >= 0 && y < canvas.height) {\r\n          const idx = (y * canvas.width + x) * 4;\r\n          const r = data[idx];\r\n          const g = data[idx + 1];\r\n          const b = data[idx + 2];\r\n          \r\n          // Better skin detection - skin has specific RGB ratios\r\n          // Skin typically: R > 95, G > 40, B > 20, R > G, R > B, |R-G| < 15 or R-G > 15\r\n          const isSkinLike = (\r\n            r > 80 && g > 50 && b > 30 &&  // Minimum values\r\n            r > g && r > b &&                // Red is dominant\r\n            (r - g) < 100 &&                 // Not too red\r\n            Math.max(r, g, b) - Math.min(r, g, b) < 150 // Not too saturated\r\n          );\r\n          \r\n          if (isSkinLike) {\r\n            skinPixels.push({ r, g, b });\r\n          }\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Calculate average skin tone - use defaults if not enough skin pixels found\r\n    let skinTone = '#f5c6a5'; // Default warm skin tone\r\n    let skinR = 245, skinG = 198, skinB = 165;\r\n    \r\n    if (skinPixels.length > 100) {\r\n      // Sort by brightness and take middle 50% to avoid outliers\r\n      skinPixels.sort((a, b) => (a.r + a.g + a.b) - (b.r + b.g + b.b));\r\n      const start = Math.floor(skinPixels.length * 0.25);\r\n      const end = Math.floor(skinPixels.length * 0.75);\r\n      const middlePixels = skinPixels.slice(start, end);\r\n      \r\n      let totalR = 0, totalG = 0, totalB = 0;\r\n      middlePixels.forEach(p => {\r\n        totalR += p.r;\r\n        totalG += p.g;\r\n        totalB += p.b;\r\n      });\r\n      \r\n      skinR = Math.floor(totalR / middlePixels.length);\r\n      skinG = Math.floor(totalG / middlePixels.length);\r\n      skinB = Math.floor(totalB / middlePixels.length);\r\n      \r\n      // Ensure skin tone is not too dark - boost if needed\r\n      const brightness = (skinR + skinG + skinB) / 3;\r\n      if (brightness < 120) {\r\n        // Boost brightness while maintaining ratio\r\n        const boost = 140 / brightness;\r\n        skinR = Math.min(255, Math.floor(skinR * boost));\r\n        skinG = Math.min(255, Math.floor(skinG * boost));\r\n        skinB = Math.min(255, Math.floor(skinB * boost));\r\n      }\r\n      \r\n      skinTone = `rgb(${skinR}, ${skinG}, ${skinB})`;\r\n    }\r\n    \r\n    // Analyze hair color from top of image\r\n    let hairPixels = [];\r\n    for (let y = 0; y < canvas.height * 0.15; y++) {\r\n      for (let x = canvas.width * 0.35; x < canvas.width * 0.65; x++) {\r\n        const idx = (Math.floor(y) * canvas.width + Math.floor(x)) * 4;\r\n        const r = data[idx];\r\n        const g = data[idx + 1];\r\n        const b = data[idx + 2];\r\n        hairPixels.push({ r, g, b });\r\n      }\r\n    }\r\n    \r\n    // Get average hair color\r\n    let hairColor = '#2a2a2a'; // Default dark hair\r\n    if (hairPixels.length > 0) {\r\n      let totalR = 0, totalG = 0, totalB = 0;\r\n      hairPixels.forEach(p => {\r\n        totalR += p.r;\r\n        totalG += p.g;\r\n        totalB += p.b;\r\n      });\r\n      const avgR = Math.floor(totalR / hairPixels.length);\r\n      const avgG = Math.floor(totalG / hairPixels.length);\r\n      const avgB = Math.floor(totalB / hairPixels.length);\r\n      \r\n      // If hair is very dark (similar to background), use default\r\n      const hairBrightness = (avgR + avgG + avgB) / 3;\r\n      if (hairBrightness > 30) {\r\n        hairColor = `rgb(${avgR}, ${avgG}, ${avgB})`;\r\n      }\r\n    }\r\n    \r\n    // Analyze overall brightness\r\n    let totalBrightness = 0;\r\n    for (let i = 0; i < data.length; i += 4) {\r\n      totalBrightness += (data[i] + data[i + 1] + data[i + 2]) / 3;\r\n    }\r\n    const avgBrightness = totalBrightness / (data.length / 4);\r\n    \r\n    // Determine face shape based on image analysis\r\n    const faceShapes = ['oval', 'round', 'square', 'heart'];\r\n    const randomShape = faceShapes[Math.floor(Math.random() * faceShapes.length)];\r\n    \r\n    // Set analyzed features with better defaults\r\n    const analyzedFeatures = {\r\n      skinTone: skinTone,\r\n      hairColor: hairColor,\r\n      eyeColor: '#4a3728', // Brown eyes default\r\n      faceShape: randomShape,\r\n      faceWidth: 0.95 + Math.random() * 0.1,\r\n      faceLength: 1.15 + Math.random() * 0.1,\r\n      eyeSize: 0.18 + Math.random() * 0.06,\r\n      eyeDistance: 0.32 + Math.random() * 0.08,\r\n      noseSize: 0.12 + Math.random() * 0.06,\r\n      mouthWidth: 0.28 + Math.random() * 0.08,\r\n      browThickness: 0.06 + Math.random() * 0.04,\r\n      hasGlasses: Math.random() > 0.7,\r\n      hairStyle: avgBrightness > 100 ? 'short' : 'long',\r\n    };\r\n    \r\n    // Finish progress\r\n    clearInterval(progressInterval);\r\n    setScanProgress(100);\r\n    \r\n    setTimeout(() => {\r\n      setFaceFeatures(analyzedFeatures);\r\n      setCloneData(prev => ({ ...prev, faceData: analyzedFeatures }));\r\n      setIsScanning(false);\r\n      setScanStatus('âœ… PhÃ¢n tÃ­ch hoÃ n táº¥t! Avatar 3D Ä‘Ã£ Ä‘Æ°á»£c táº¡o tá»« khuÃ´n máº·t cá»§a báº¡n.');\r\n    }, 500);\r\n  };\r\n\r\n  const retakePhoto = () => {\r\n    setCapturedImage(null);\r\n    setScanStatus('');\r\n    setIsScanning(false);\r\n    setScanProgress(0);\r\n    startCamera();\r\n  };\r\n\r\n  // Cleanup camera on unmount or phase change\r\n  useEffect(() => {\r\n    return () => {\r\n      stopCamera();\r\n    };\r\n  }, [phase]);\r\n\r\n  // ============ RENDER WELCOME PHASE ============\r\n  const renderWelcome = () => (\r\n    <div style={styles.fullScreen}>\r\n      <div style={styles.welcomeBox}>\r\n        <div style={styles.glowOrb}>ðŸ§¬</div>\r\n        <h1 style={styles.title}>Human Clone AI</h1>\r\n        <p style={styles.subtitle}>\r\n          Táº¡o nhÃ¢n báº£n AI cá»§a chÃ­nh báº¡n - biáº¿t suy nghÄ©, nÃ³i chuyá»‡n vÃ  hÃ nh Ä‘á»™ng nhÆ° báº¡n\r\n        </p>\r\n\r\n        <div style={styles.featureGrid}>\r\n          <div style={styles.featureCard}>\r\n            <span style={styles.featureIcon}>ðŸ§ </span>\r\n            <h3>Há»c tÃ­nh cÃ¡ch</h3>\r\n            <p>Clone há»c cÃ¡ch báº¡n suy nghÄ© vÃ  pháº£n á»©ng</p>\r\n          </div>\r\n          <div style={styles.featureCard}>\r\n            <span style={styles.featureIcon}>ðŸ’¬</span>\r\n            <h3>NÃ³i nhÆ° báº¡n</h3>\r\n            <p>Clone nÃ³i chuyá»‡n vá»›i giá»ng Ä‘iá»‡u cá»§a báº¡n</p>\r\n          </div>\r\n          <div style={styles.featureCard}>\r\n            <span style={styles.featureIcon}>ðŸ˜Š</span>\r\n            <h3>Biá»ƒu cáº£m thá»±c</h3>\r\n            <p>Cáº£m xÃºc vÃ  biá»ƒu cáº£m nhÆ° con ngÆ°á»i</p>\r\n          </div>\r\n          <div style={styles.featureCard}>\r\n            <span style={styles.featureIcon}>ðŸŽ­</span>\r\n            <h3>Nhá»› má»i thá»©</h3>\r\n            <p>Clone ghi nhá»› vÃ  há»c tá»« cuá»™c trÃ² chuyá»‡n</p>\r\n          </div>\r\n        </div>\r\n\r\n        <input\r\n          ref={nameInputRef}\r\n          type=\"text\"\r\n          placeholder=\"Nháº­p tÃªn cho Clone cá»§a báº¡n...\"\r\n          value={cloneData.name}\r\n          onChange={handleNameChange}\r\n          style={styles.nameInput}\r\n          autoFocus\r\n        />\r\n\r\n        <button\r\n          onClick={() => cloneData.name && setPhase('facescan')}\r\n          disabled={!cloneData.name}\r\n          style={{\r\n            ...styles.primaryBtn,\r\n            opacity: cloneData.name ? 1 : 0.5,\r\n          }}\r\n        >\r\n          ðŸ“¸ Chá»¥p khuÃ´n máº·t cho {cloneData.name || 'Clone'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // ============ RENDER FACE SCAN PHASE ============\r\n  const renderFaceScan = () => (\r\n    <div style={styles.fullScreen}>\r\n      <div style={styles.faceScanBox}>\r\n        <h2 style={styles.phaseTitle}>ðŸ“¸ QuÃ©t khuÃ´n máº·t cá»§a báº¡n</h2>\r\n        <p style={styles.subtitle}>AI sáº½ phÃ¢n tÃ­ch vÃ  táº¡o avatar 3D tá»« khuÃ´n máº·t tháº­t</p>\r\n\r\n        <div style={styles.cameraContainer}>\r\n          {!capturedImage ? (\r\n            <>\r\n              <video\r\n                ref={webcamRef}\r\n                style={{\r\n                  ...styles.videoPreview,\r\n                  transform: 'scaleX(-1)',\r\n                  display: cameraActive ? 'block' : 'none',\r\n                }}\r\n                autoPlay\r\n                playsInline\r\n                muted\r\n              />\r\n              {!cameraActive && (\r\n                <div style={styles.cameraPlaceholder}>\r\n                  <span style={{ fontSize: '80px' }}>ðŸ“·</span>\r\n                  <p>Camera chÆ°a Ä‘Æ°á»£c báº­t</p>\r\n                </div>\r\n              )}\r\n              {cameraActive && (\r\n                <div style={styles.faceGuide}>\r\n                  <div style={styles.faceOval}></div>\r\n                  <div style={styles.scanLine}></div>\r\n                </div>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <div style={styles.capturedPreview}>\r\n              <img src={capturedImage} alt=\"Captured face\" style={styles.capturedImage} />\r\n              {isScanning && (\r\n                <div style={styles.scanningOverlay}>\r\n                  <div style={styles.scanningEffect}></div>\r\n                </div>\r\n              )}\r\n              {!isScanning && <div style={styles.checkMark}>âœ…</div>}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <canvas ref={photoCanvasRef} style={{ display: 'none' }} />\r\n\r\n        {/* Progress Bar when scanning */}\r\n        {isScanning && (\r\n          <div style={styles.analysisProgress}>\r\n            <div style={styles.progressLabel}>ðŸ” Äang phÃ¢n tÃ­ch khuÃ´n máº·t...</div>\r\n            <div style={styles.progressBarBg}>\r\n              <div style={{ ...styles.progressBarFill, width: `${scanProgress}%` }}></div>\r\n            </div>\r\n            <div style={styles.progressPercent}>{scanProgress}%</div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Analysis Results */}\r\n        {capturedImage && !isScanning && faceFeatures && (\r\n          <div style={styles.analysisResults}>\r\n            <h3 style={{ marginBottom: '15px', color: '#00d9ff' }}>ðŸŽ¯ Káº¿t quáº£ phÃ¢n tÃ­ch:</h3>\r\n            <div style={styles.featureList}>\r\n              <div style={styles.featureItem}>\r\n                <span>MÃ u da:</span>\r\n                <div style={{ ...styles.colorSwatch, background: faceFeatures.skinTone }}></div>\r\n              </div>\r\n              <div style={styles.featureItem}>\r\n                <span>MÃ u tÃ³c:</span>\r\n                <div style={{ ...styles.colorSwatch, background: faceFeatures.hairColor }}></div>\r\n              </div>\r\n              <div style={styles.featureItem}>\r\n                <span>MÃ u máº¯t:</span>\r\n                <div style={{ ...styles.colorSwatch, background: faceFeatures.eyeColor }}></div>\r\n              </div>\r\n              <div style={styles.featureItem}>\r\n                <span>HÃ¬nh máº·t:</span>\r\n                <span style={styles.featureValue}>\r\n                  {faceFeatures.faceShape === 'oval' ? 'TrÃ¡i xoan' :\r\n                   faceFeatures.faceShape === 'round' ? 'TrÃ²n' :\r\n                   faceFeatures.faceShape === 'square' ? 'VuÃ´ng' : 'TrÃ¡i tim'}\r\n                </span>\r\n              </div>\r\n              <div style={styles.featureItem}>\r\n                <span>Kiá»ƒu tÃ³c:</span>\r\n                <span style={styles.featureValue}>\r\n                  {faceFeatures.hairStyle === 'short' ? 'Ngáº¯n' : 'DÃ i'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <p style={styles.scanStatus}>{scanStatus}</p>\r\n\r\n        <div style={styles.btnGroup}>\r\n          {!cameraActive && !capturedImage && (\r\n            <button onClick={startCamera} style={styles.primaryBtn}>\r\n              ðŸŽ¥ Má»Ÿ Camera\r\n            </button>\r\n          )}\r\n\r\n          {cameraActive && !capturedImage && (\r\n            <button onClick={capturePhoto} style={styles.captureBtn}>\r\n              ðŸ“¸ QuÃ©t khuÃ´n máº·t\r\n            </button>\r\n          )}\r\n\r\n          {capturedImage && !isScanning && (\r\n            <>\r\n              <button onClick={retakePhoto} style={styles.secondaryBtn}>\r\n                ðŸ”„ QuÃ©t láº¡i\r\n              </button>\r\n              <button onClick={() => setPhase('training')} style={styles.primaryBtn}>\r\n                âœ… Táº¡o Avatar 3D\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        <button \r\n          onClick={() => {\r\n            stopCamera();\r\n            setPhase('training');\r\n          }} \r\n          style={styles.skipBtn}\r\n        >\r\n          Bá» qua, dÃ¹ng avatar máº·c Ä‘á»‹nh â†’\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // ============ RENDER TRAINING PHASE ============\r\n  const renderTraining = () => {\r\n    const progress = ((currentQuestion + 1) / personalityQuestions.length) * 100;\r\n\r\n    return (\r\n      <div style={styles.fullScreen}>\r\n        <div style={styles.trainingBox}>\r\n          <div style={styles.progressBar}>\r\n            <div style={{ ...styles.progressFill, width: `${progress}%` }} />\r\n          </div>\r\n\r\n          <h2 style={styles.phaseTitle}>\r\n            ðŸ§  Dáº¡y {cloneData.name} hiá»ƒu báº¡n\r\n          </h2>\r\n          <p style={styles.questionCount}>\r\n            CÃ¢u há»i {currentQuestion + 1} / {personalityQuestions.length}\r\n          </p>\r\n\r\n          <div style={styles.questionCard}>\r\n            <p style={styles.question}>\r\n              {personalityQuestions[currentQuestion].q}\r\n            </p>\r\n            <textarea\r\n              ref={answerInputRef}\r\n              key={`answer-${currentQuestion}`}\r\n              value={personalityQuestions[currentQuestion].a}\r\n              onChange={(e) => handleAnswer(e.target.value)}\r\n              placeholder=\"Tráº£ lá»i cÃ ng chi tiáº¿t, Clone cÃ ng giá»‘ng báº¡n...\"\r\n              style={styles.answerInput}\r\n              rows={4}\r\n              autoFocus\r\n            />\r\n          </div>\r\n\r\n          <div style={styles.btnGroup}>\r\n            {currentQuestion > 0 && (\r\n              <button\r\n                onClick={() => setCurrentQuestion(currentQuestion - 1)}\r\n                style={styles.secondaryBtn}\r\n              >\r\n                â† Quay láº¡i\r\n              </button>\r\n            )}\r\n            <button\r\n              onClick={nextQuestion}\r\n              disabled={!personalityQuestions[currentQuestion].a}\r\n              style={{\r\n                ...styles.primaryBtn,\r\n                opacity: personalityQuestions[currentQuestion].a ? 1 : 0.5,\r\n              }}\r\n            >\r\n              {currentQuestion === personalityQuestions.length - 1 ? 'HoÃ n thÃ nh âœ“' : 'Tiáº¿p theo â†’'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // ============ RENDER PERSONALITY PHASE ============\r\n  const renderPersonality = () => (\r\n    <div style={styles.fullScreen}>\r\n      <div style={styles.trainingBox}>\r\n        <h2 style={styles.phaseTitle}>\r\n          ðŸ’¬ Dáº¡y {cloneData.name} nÃ³i nhÆ° báº¡n\r\n        </h2>\r\n\r\n        <div style={styles.inputSection}>\r\n          <label style={styles.label}>\r\n            Viáº¿t má»™t Ä‘oáº¡n chat máº«u theo cÃ¡ch báº¡n thÆ°á»ng nÃ³i:\r\n          </label>\r\n          <textarea\r\n            value={sampleConvo}\r\n            onChange={(e) => setSampleConvo(e.target.value)}\r\n            placeholder={`VÃ­ dá»¥:\r\n- ÃŠ, cÃ³ gÃ¬ hot khÃ´ng?\r\n- Oke luÃ´n, ez game!\r\n- Hmm Ä‘á»ƒ tao nghÄ© xem...\r\n- Chill Ä‘i bro, má»i chuyá»‡n sáº½ á»•n thÃ´i`}\r\n            style={{ ...styles.answerInput, minHeight: '150px' }}\r\n            autoFocus\r\n          />\r\n        </div>\r\n\r\n        <div style={styles.inputSection}>\r\n          <label style={styles.label}>\r\n            Nhá»¯ng cÃ¢u cá»­a miá»‡ng báº¡n hay dÃ¹ng (má»—i cÃ¢u 1 dÃ²ng):\r\n          </label>\r\n          <textarea\r\n            value={catchphrases}\r\n            onChange={(e) => setCatchphrases(e.target.value)}\r\n            placeholder={`VÃ­ dá»¥:\r\nChill Ä‘i\r\nOke luÃ´n\r\nEz game\r\nHmm...`}\r\n            style={{ ...styles.answerInput, minHeight: '100px' }}\r\n          />\r\n        </div>\r\n\r\n        <button onClick={finishSetup} style={styles.primaryBtn}>\r\n          ðŸŽ­ Táº¡o {cloneData.name} ngay!\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  // ============ PHASE 4: THE CLONE ============\r\n  // Using real face photo instead of 3D (Three.js removed)\r\n\r\n  // Generate clone response based on personality\r\n  const generateCloneResponse = async (userMsg) => {\r\n    setIsThinking(true);\r\n    setCloneEmotion('thinking');\r\n\r\n    // Build personality context\r\n    const personalityContext = cloneData.personality.map(p =>\r\n      `${p.category}: ${p.response}`\r\n    ).join('\\n');\r\n\r\n    const catchphrases = cloneData.speakingStyle || '';\r\n\r\n    // Create prompt that makes AI respond like the user\r\n    const clonePrompt = `Báº¡n lÃ  ${cloneData.name}, má»™t nhÃ¢n báº£n AI cá»§a ngÆ°á»i dÃ¹ng. \r\nÄÃ¢y lÃ  tÃ­nh cÃ¡ch vÃ  cÃ¡ch nÃ³i cá»§a báº¡n:\r\n${personalityContext}\r\n\r\nPhong cÃ¡ch nÃ³i chuyá»‡n máº«u:\r\n${catchphrases}\r\n\r\nQUAN TRá»ŒNG: HÃ£y tráº£ lá»i ÄÃšNG nhÆ° cÃ¡ch ngÆ°á»i dÃ¹ng sáº½ tráº£ lá»i. Sá»­ dá»¥ng cÃ¡c cÃ¢u cá»­a miá»‡ng, giá»ng Ä‘iá»‡u vÃ  tÃ­nh cÃ¡ch Ä‘Ã£ Ä‘Æ°á»£c training.\r\nKhÃ´ng nÃ³i \"TÃ´i lÃ  AI\" hay \"TÃ´i khÃ´ng thá»ƒ\". HÃ£y tráº£ lá»i nhÆ° má»™t con ngÆ°á»i thá»±c sá»± vá»›i tÃ­nh cÃ¡ch Ä‘Ã£ cho.\r\n\r\nLá»‹ch sá»­ trÃ² chuyá»‡n:\r\n${messages.slice(-6).map(m => `${m.role === 'user' ? 'NgÆ°á»i dÃ¹ng' : cloneData.name}: ${m.content}`).join('\\n')}\r\n\r\nNgÆ°á»i dÃ¹ng: ${userMsg}\r\n${cloneData.name}:`;\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:8000/api/chat', {\r\n        text: clonePrompt,\r\n      });\r\n\r\n      setIsThinking(false);\r\n      return response.data.ai_response;\r\n    } catch (error) {\r\n      setIsThinking(false);\r\n\r\n      // Fallback: generate response based on personality locally\r\n      const styles = cloneData.speakingStyle.split('\\n').filter(s => s.trim());\r\n      const randomStyle = styles[Math.floor(Math.random() * styles.length)] || 'Oke';\r\n\r\n      return `${randomStyle} ${userMsg.includes('?') ? 'Äá»ƒ tao nghÄ© xem...' : ''}`;\r\n    }\r\n  };\r\n\r\n  // Detect emotion from text\r\n  const detectEmotion = (text) => {\r\n    const lower = text.toLowerCase();\r\n    if (lower.match(/vui|haha|ðŸ˜Š|ðŸ˜„|tuyá»‡t|hay|thÃ­ch/)) return 'happy';\r\n    if (lower.match(/buá»“n|ðŸ˜¢|ðŸ˜­|chÃ¡n|má»‡t/)) return 'sad';\r\n    if (lower.match(/gÃ¬|sao|nhÆ° tháº¿ nÃ o|\\?/)) return 'thinking';\r\n    if (lower.match(/wow|á»“|ðŸ˜®|tháº­t sao/)) return 'surprised';\r\n    return 'neutral';\r\n  };\r\n\r\n  // Send message\r\n  const sendMessage = async () => {\r\n    if (!inputText.trim() || isThinking) return;\r\n\r\n    const userMsg = inputText.trim();\r\n    setInputText('');\r\n    setMessages(prev => [...prev, { role: 'user', content: userMsg }]);\r\n\r\n    // Get clone response\r\n    const cloneResponse = await generateCloneResponse(userMsg);\r\n\r\n    // Detect and set emotion\r\n    const emotion = detectEmotion(cloneResponse);\r\n    setCloneEmotion(emotion);\r\n\r\n    // Update mood based on conversation\r\n    if (emotion === 'happy') setCloneMood(prev => Math.min(100, prev + 5));\r\n    if (emotion === 'sad') setCloneMood(prev => Math.max(0, prev - 5));\r\n\r\n    setMessages(prev => [...prev, { role: 'clone', content: cloneResponse }]);\r\n\r\n    // Speak the response\r\n    speakResponse(cloneResponse);\r\n  };\r\n\r\n  // Text-to-speech\r\n  const speakResponse = (text) => {\r\n    setIsSpeaking(true);\r\n\r\n    const utterance = new SpeechSynthesisUtterance(text);\r\n    utterance.lang = 'vi-VN';\r\n    utterance.rate = 1.0;\r\n    utterance.pitch = 1.0;\r\n\r\n    utterance.onend = () => {\r\n      setIsSpeaking(false);\r\n      setCloneEmotion('neutral');\r\n    };\r\n\r\n    window.speechSynthesis.speak(utterance);\r\n  };\r\n\r\n  // Voice input\r\n  const startListening = () => {\r\n    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();\r\n    recognition.lang = 'vi-VN';\r\n    recognition.continuous = false;\r\n\r\n    recognition.onstart = () => setIsListening(true);\r\n    recognition.onresult = (e) => {\r\n      const text = e.results[0][0].transcript;\r\n      setInputText(text);\r\n      setIsListening(false);\r\n    };\r\n    recognition.onerror = () => setIsListening(false);\r\n    recognition.start();\r\n  };\r\n\r\n  // Clone Screen - Using real face photo with Face Recognition overlay\r\n  const CloneScreen = () => (\r\n    <div style={styles.cloneScreenContainer}>\r\n      {/* Background gradient */}\r\n      <div style={styles.cloneBackground}></div>\r\n      \r\n      {/* Main Face Display with Face Recognition effect */}\r\n      <div style={styles.faceDisplayArea}>\r\n        {capturedImage ? (\r\n          <div style={styles.realFaceContainer}>\r\n            {/* Face Recognition Frame Overlay */}\r\n            <div style={{\r\n              ...styles.faceRecognitionFrame,\r\n              borderColor: cloneEmotion === 'happy' ? '#4ECDC4' :\r\n                          cloneEmotion === 'sad' ? '#6B6B9C' :\r\n                          cloneEmotion === 'thinking' ? '#FFB84D' :\r\n                          '#ff7043',\r\n              boxShadow: `0 0 30px ${cloneEmotion === 'happy' ? '#4ECDC4' :\r\n                                    cloneEmotion === 'sad' ? '#6B6B9C' :\r\n                                    cloneEmotion === 'thinking' ? '#FFB84D' :\r\n                                    '#ff7043'}4d`,\r\n            }}>\r\n              {/* Corner indicators */}\r\n              <div style={styles.cornerTopLeft}></div>\r\n              <div style={styles.cornerTopRight}></div>\r\n              <div style={styles.cornerBottomLeft}></div>\r\n              <div style={styles.cornerBottomRight}></div>\r\n            </div>\r\n            \r\n            {/* Glow effect behind face */}\r\n            <div style={{\r\n              ...styles.faceGlow,\r\n              boxShadow: cloneEmotion === 'happy' ? '0 0 120px 60px rgba(78, 205, 196, 0.5)' :\r\n                        cloneEmotion === 'sad' ? '0 0 120px 60px rgba(107, 107, 156, 0.4)' :\r\n                        cloneEmotion === 'thinking' ? '0 0 120px 60px rgba(255, 184, 77, 0.5)' :\r\n                        '0 0 120px 60px rgba(255, 112, 67, 0.4)',\r\n              animation: isSpeaking ? 'glowPulse 0.5s ease-in-out infinite' : 'none',\r\n            }}></div>\r\n            \r\n            {/* Real face photo with scanning effect */}\r\n            <div style={styles.imageScanContainer}>\r\n              <img \r\n                src={capturedImage} \r\n                alt=\"Clone face\"\r\n                style={{\r\n                  ...styles.realFaceImage,\r\n                  transform: isSpeaking ? 'scale(1.03)' : \r\n                            isThinking ? 'scale(0.98)' : 'scale(1)',\r\n                  filter: cloneEmotion === 'happy' ? 'brightness(1.15) saturate(1.2) contrast(1.1)' :\r\n                          cloneEmotion === 'sad' ? 'brightness(0.85) saturate(0.7) contrast(1.05)' :\r\n                          cloneEmotion === 'thinking' ? 'brightness(1.08) saturate(1) contrast(1.1)' :\r\n                          'brightness(1) saturate(1) contrast(1.05)',\r\n                  animation: isSpeaking ? 'speaking 0.12s ease-in-out infinite' : \r\n                            isThinking ? 'thinking 2s ease-in-out infinite' : \r\n                            'idle 4s ease-in-out infinite',\r\n              }}\r\n              />\r\n              \r\n              {/* Scanning line effect */}\r\n              {isThinking && (\r\n                <div style={styles.scanningLine}></div>\r\n              )}\r\n            </div>\r\n            \r\n            {/* Speaking indicator - wave animation overlay */}\r\n            {isSpeaking && (\r\n              <div style={styles.speakingWave}>\r\n                <div style={{...styles.waveBar, animationDelay: '0s'}}></div>\r\n                <div style={{...styles.waveBar, animationDelay: '0.1s'}}></div>\r\n                <div style={{...styles.waveBar, animationDelay: '0.2s'}}></div>\r\n                <div style={{...styles.waveBar, animationDelay: '0.3s'}}></div>\r\n                <div style={{...styles.waveBar, animationDelay: '0.4s'}}></div>\r\n              </div>\r\n            )}\r\n            \r\n            {/* Emotion indicator with glow */}\r\n            <div style={{\r\n              ...styles.emotionBubble,\r\n              boxShadow: `0 10px 30px ${cloneEmotion === 'happy' ? '#4ECDC4' :\r\n                                        cloneEmotion === 'sad' ? '#6B6B9C' :\r\n                                        cloneEmotion === 'thinking' ? '#FFB84D' :\r\n                                        '#ff7043'}66`,\r\n            }}>\r\n              {cloneEmotion === 'happy' && 'ðŸ˜Š'}\r\n              {cloneEmotion === 'sad' && 'ðŸ˜¢'}\r\n              {cloneEmotion === 'thinking' && 'ðŸ¤”'}\r\n              {cloneEmotion === 'surprised' && 'ðŸ˜®'}\r\n              {cloneEmotion === 'neutral' && 'ðŸ˜Œ'}\r\n            </div>\r\n            \r\n            {/* Name tag with glow */}\r\n            <div style={{\r\n              ...styles.nameTag,\r\n              boxShadow: '0 10px 30px rgba(255,112,67,0.3)',\r\n            }}>\r\n              <span style={styles.nameTagIcon}>ðŸ§¬</span>\r\n              <span>{cloneData.name}</span>\r\n            </div>\r\n            \r\n            {/* Status indicators */}\r\n            <div style={styles.statusIndicators}>\r\n              {isSpeaking && <div style={styles.statusDot} title=\"Speaking\">ðŸ”Š</div>}\r\n              {isThinking && <div style={styles.statusDot} title=\"Thinking\">ðŸ¤–</div>}\r\n              {!isSpeaking && !isThinking && <div style={{...styles.statusDot, color: '#4ECDC4'}} title=\"Ready\">âœ“</div>}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          /* Fallback if no image - show placeholder */\r\n          <div style={styles.noFacePlaceholder}>\r\n            <span style={{fontSize: '100px', marginBottom: '20px'}}>ðŸ‘¤</span>\r\n            <p style={{fontSize: '1.2rem', opacity: 0.7}}>KhÃ´ng cÃ³ áº£nh khuÃ´n máº·t</p>\r\n            <p style={{fontSize: '0.9rem', opacity: 0.5}}>Vui lÃ²ng quay láº¡i vÃ  chá»¥p áº£nh</p>\r\n          </div>\r\n        )}\r\n        \r\n        {/* Mood indicator with enhanced styling */}\r\n        <div style={styles.moodIndicator}>\r\n          <div style={styles.moodLabel}>ðŸ’ TÃ¢m tráº¡ng</div>\r\n          <div style={styles.moodBarLarge}>\r\n            <div style={{\r\n              ...styles.moodFillLarge,\r\n              width: `${cloneMood}%`,\r\n              background: cloneMood > 70 ? 'linear-gradient(90deg, #4ECDC4, #44E5B8)' : \r\n                         cloneMood > 40 ? 'linear-gradient(90deg, #FFB84D, #FFA726)' : \r\n                         'linear-gradient(90deg, #FF6B6B, #FF5252)',\r\n              boxShadow: cloneMood > 70 ? '0 0 15px rgba(78,205,196,0.5)' :\r\n                        cloneMood > 40 ? '0 0 15px rgba(255,184,77,0.5)' :\r\n                        '0 0 15px rgba(255,107,107,0.5)',\r\n            }}></div>\r\n          </div>\r\n          <div style={styles.moodValue}>{cloneMood}%</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Chat Panel */}\r\n      <div style={styles.chatPanel}>\r\n        <div style={styles.chatHeader}>\r\n          ðŸ’¬ TrÃ² chuyá»‡n vá»›i {cloneData.name}\r\n          {isThinking && <span style={styles.thinkingBadge}>ðŸ¤” Suy nghÄ©...</span>}\r\n          {isSpeaking && <span style={styles.speakingBadge}>ðŸ”Š Äang nÃ³i...</span>}\r\n        </div>\r\n\r\n        <div style={styles.chatMessages}>\r\n          {messages.length === 0 && (\r\n            <div style={styles.emptyChat}>\r\n              <p>ðŸ‘‹ ChÃ o! TÃ´i lÃ  {cloneData.name}, nhÃ¢n báº£n cá»§a báº¡n.</p>\r\n              <p>HÃ£y nÃ³i chuyá»‡n vá»›i tÃ´i nhÆ° nÃ³i chuyá»‡n vá»›i chÃ­nh mÃ¬nh!</p>\r\n            </div>\r\n          )}\r\n          {messages.map((msg, i) => (\r\n            <div\r\n              key={i}\r\n              style={{\r\n                ...styles.message,\r\n                alignSelf: msg.role === 'user' ? 'flex-end' : 'flex-start',\r\n                background: msg.role === 'user' ? '#ff7043' : 'rgba(255,255,255,0.1)',\r\n              }}\r\n            >\r\n              {msg.content}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div style={styles.chatInput}>\r\n          <input\r\n            type=\"text\"\r\n            value={inputText}\r\n            onChange={(e) => setInputText(e.target.value)}\r\n            onKeyPress={(e) => e.key === 'Enter' && sendMessage()}\r\n            placeholder={`NÃ³i gÃ¬ Ä‘Ã³ vá»›i ${cloneData.name}...`}\r\n            style={styles.textInput}\r\n          />\r\n          <button\r\n            onClick={startListening}\r\n            disabled={isListening}\r\n            style={{\r\n              ...styles.iconBtn,\r\n              background: isListening ? '#FF6B6B' : '#4ECDC4',\r\n            }}\r\n          >\r\n            ðŸŽ¤\r\n          </button>\r\n          <button\r\n            onClick={sendMessage}\r\n            disabled={isThinking || !inputText.trim()}\r\n            style={styles.iconBtn}\r\n          >\r\n            ðŸ’¬\r\n          </button>\r\n        </div>\r\n\r\n        {/* Quick emotions */}\r\n        <div style={styles.emotionBar}>\r\n          <span style={{ opacity: 0.7 }}>Biá»ƒu cáº£m:</span>\r\n          {['neutral', 'happy', 'sad', 'thinking', 'surprised'].map(em => (\r\n            <button\r\n              key={em}\r\n              onClick={() => setCloneEmotion(em)}\r\n              style={{\r\n                ...styles.emotionBtn,\r\n                border: cloneEmotion === em ? '2px solid #ff7043' : '2px solid transparent',\r\n                transform: cloneEmotion === em ? 'scale(1.1)' : 'scale(1)',\r\n              }}\r\n            >\r\n              {em === 'neutral' && 'ðŸ˜'}\r\n              {em === 'happy' && 'ðŸ˜Š'}\r\n              {em === 'sad' && 'ðŸ˜¢'}\r\n              {em === 'thinking' && 'ðŸ¤”'}\r\n              {em === 'surprised' && 'ðŸ˜®'}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Reset button */}\r\n      <button\r\n        onClick={() => {\r\n          setPhase('welcome');\r\n          setMessages([]);\r\n          setCloneData({ name: '', personality: [], speakingStyle: '', memories: [], faceData: null, faceImage: null, voiceProfile: null });\r\n          setCurrentQuestion(0);\r\n          setPersonalityQuestions(prev => prev.map(q => ({ ...q, a: '' })));\r\n          setSampleConvo('');\r\n          setCatchphrases('');\r\n          setCapturedImage(null);\r\n          setFaceFeatures({\r\n            skinTone: '#f5c6a5',\r\n            hairColor: '#1a1a1a',\r\n            eyeColor: '#4a3728',\r\n            faceShape: 'oval',\r\n            faceWidth: 1.0,\r\n            faceLength: 1.2,\r\n            eyeSize: 0.2,\r\n            eyeDistance: 0.35,\r\n            noseSize: 0.15,\r\n            mouthWidth: 0.3,\r\n            browThickness: 0.08,\r\n            hasGlasses: false,\r\n            hairStyle: 'short',\r\n          });\r\n        }}\r\n        style={styles.resetBtn}\r\n      >\r\n        ðŸ”„ Táº¡o Clone má»›i\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  // Render based on phase\r\n  return (\r\n    <>\r\n      {phase === 'welcome' && renderWelcome()}\r\n      {phase === 'facescan' && renderFaceScan()}\r\n      {phase === 'training' && renderTraining()}\r\n      {phase === 'personality' && renderPersonality()}\r\n      {phase === 'clone' && <CloneScreen />}\r\n    </>\r\n  );\r\n};\r\n\r\n// Styles\r\nconst styles = {\r\n  fullScreen: {\r\n    width: '100%',\r\n    height: '100vh',\r\n    background: 'linear-gradient(135deg, #0a0a1a 0%, #1a1a3e 50%, #0a0a1a 100%)',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    fontFamily: \"'Segoe UI', sans-serif\",\r\n    color: 'white',\r\n  },\r\n  welcomeBox: {\r\n    textAlign: 'center',\r\n    padding: '50px',\r\n    maxWidth: '800px',\r\n  },\r\n  glowOrb: {\r\n    fontSize: '80px',\r\n    marginBottom: '20px',\r\n    animation: 'pulse 2s infinite',\r\n  },\r\n  title: {\r\n    fontSize: '3rem',\r\n    marginBottom: '15px',\r\n    background: 'linear-gradient(90deg, #ff9a56, #ff7043, #ff9a56)',\r\n    WebkitBackgroundClip: 'text',\r\n    WebkitTextFillColor: 'transparent',\r\n  },\r\n  subtitle: {\r\n    fontSize: '1.3rem',\r\n    opacity: 0.8,\r\n    marginBottom: '40px',\r\n  },\r\n  featureGrid: {\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(180px, 1fr))',\r\n    gap: '20px',\r\n    marginBottom: '40px',\r\n  },\r\n  featureCard: {\r\n    background: 'rgba(255,255,255,0.05)',\r\n    padding: '25px 15px',\r\n    borderRadius: '15px',\r\n    backdropFilter: 'blur(10px)',\r\n  },\r\n  featureIcon: {\r\n    fontSize: '40px',\r\n    display: 'block',\r\n    marginBottom: '10px',\r\n  },\r\n  nameInput: {\r\n    width: '100%',\r\n    maxWidth: '400px',\r\n    padding: '15px 25px',\r\n    fontSize: '1.1rem',\r\n    background: 'rgba(255,255,255,0.1)',\r\n    border: '2px solid rgba(255,255,255,0.2)',\r\n    borderRadius: '30px',\r\n    color: 'white',\r\n    outline: 'none',\r\n    marginBottom: '20px',\r\n    textAlign: 'center',\r\n    boxSizing: 'border-box',\r\n    pointerEvents: 'auto',\r\n    zIndex: 100,\r\n    position: 'relative',\r\n  },\r\n  primaryBtn: {\r\n    padding: '15px 40px',\r\n    fontSize: '1.2rem',\r\n    background: 'linear-gradient(135deg, #ff9a56 0%, #ff7043 100%)',\r\n    color: 'white',\r\n    border: 'none',\r\n    borderRadius: '30px',\r\n    cursor: 'pointer',\r\n    fontWeight: 'bold',\r\n    transition: 'all 0.3s',\r\n  },\r\n  secondaryBtn: {\r\n    padding: '12px 30px',\r\n    fontSize: '1rem',\r\n    background: 'rgba(255,255,255,0.1)',\r\n    color: 'white',\r\n    border: '2px solid rgba(255,255,255,0.3)',\r\n    borderRadius: '25px',\r\n    cursor: 'pointer',\r\n  },\r\n  trainingBox: {\r\n    background: 'rgba(255,255,255,0.05)',\r\n    padding: '40px',\r\n    borderRadius: '20px',\r\n    maxWidth: '600px',\r\n    width: '90%',\r\n    backdropFilter: 'blur(10px)',\r\n  },\r\n  progressBar: {\r\n    height: '8px',\r\n    background: 'rgba(255,255,255,0.1)',\r\n    borderRadius: '4px',\r\n    marginBottom: '30px',\r\n    overflow: 'hidden',\r\n  },\r\n  progressFill: {\r\n    height: '100%',\r\n    background: 'linear-gradient(90deg, #ff9a56, #ff7043)',\r\n    transition: 'width 0.5s',\r\n  },\r\n  phaseTitle: {\r\n    fontSize: '1.8rem',\r\n    marginBottom: '10px',\r\n  },\r\n  questionCount: {\r\n    opacity: 0.7,\r\n    marginBottom: '30px',\r\n  },\r\n  questionCard: {\r\n    background: 'rgba(255,255,255,0.05)',\r\n    padding: '25px',\r\n    borderRadius: '15px',\r\n    marginBottom: '25px',\r\n  },\r\n  question: {\r\n    fontSize: '1.2rem',\r\n    marginBottom: '15px',\r\n  },\r\n  answerInput: {\r\n    width: '100%',\r\n    padding: '15px',\r\n    fontSize: '1rem',\r\n    background: 'rgba(255,255,255,0.1)',\r\n    border: '1px solid rgba(255,255,255,0.2)',\r\n    borderRadius: '10px',\r\n    color: 'white',\r\n    outline: 'none',\r\n    resize: 'vertical',\r\n    boxSizing: 'border-box',\r\n    pointerEvents: 'auto',\r\n    zIndex: 100,\r\n    position: 'relative',\r\n  },\r\n  btnGroup: {\r\n    display: 'flex',\r\n    gap: '15px',\r\n    justifyContent: 'center',\r\n  },\r\n  inputSection: {\r\n    marginBottom: '25px',\r\n  },\r\n  label: {\r\n    display: 'block',\r\n    marginBottom: '10px',\r\n    opacity: 0.9,\r\n  },\r\n  cloneInfo: {\r\n    position: 'absolute',\r\n    top: 20,\r\n    left: 20,\r\n    background: 'rgba(10,10,26,0.9)',\r\n    padding: '15px 25px',\r\n    borderRadius: '15px',\r\n    backdropFilter: 'blur(10px)',\r\n  },\r\n  cloneName: {\r\n    fontSize: '1.3rem',\r\n    fontWeight: 'bold',\r\n    marginBottom: '10px',\r\n    color: '#ff9a56',\r\n  },\r\n  moodBar: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '10px',\r\n    fontSize: '14px',\r\n  },\r\n  moodTrack: {\r\n    width: '100px',\r\n    height: '8px',\r\n    background: 'rgba(255,255,255,0.1)',\r\n    borderRadius: '4px',\r\n    overflow: 'hidden',\r\n  },\r\n  moodFill: {\r\n    height: '100%',\r\n    transition: 'all 0.5s',\r\n  },\r\n  chatPanel: {\r\n    position: 'absolute',\r\n    bottom: 20,\r\n    right: 20,\r\n    width: '400px',\r\n    maxHeight: '70vh',\r\n    background: 'rgba(10,10,26,0.95)',\r\n    borderRadius: '20px',\r\n    padding: '20px',\r\n    backdropFilter: 'blur(10px)',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  chatHeader: {\r\n    fontSize: '1.1rem',\r\n    fontWeight: 'bold',\r\n    marginBottom: '15px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '10px',\r\n    flexWrap: 'wrap',\r\n  },\r\n  thinkingBadge: {\r\n    fontSize: '12px',\r\n    background: 'rgba(255,184,77,0.2)',\r\n    padding: '4px 10px',\r\n    borderRadius: '10px',\r\n    color: '#FFB84D',\r\n  },\r\n  speakingBadge: {\r\n    fontSize: '12px',\r\n    background: 'rgba(78,205,196,0.2)',\r\n    padding: '4px 10px',\r\n    borderRadius: '10px',\r\n    color: '#4ECDC4',\r\n  },\r\n  chatMessages: {\r\n    flex: 1,\r\n    overflowY: 'auto',\r\n    marginBottom: '15px',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '10px',\r\n    maxHeight: '300px',\r\n    padding: '10px',\r\n    background: 'rgba(255,255,255,0.03)',\r\n    borderRadius: '10px',\r\n  },\r\n  emptyChat: {\r\n    textAlign: 'center',\r\n    opacity: 0.7,\r\n    padding: '20px',\r\n  },\r\n  message: {\r\n    padding: '10px 15px',\r\n    borderRadius: '15px',\r\n    maxWidth: '85%',\r\n    fontSize: '14px',\r\n  },\r\n  chatInput: {\r\n    display: 'flex',\r\n    gap: '10px',\r\n  },\r\n  textInput: {\r\n    flex: 1,\r\n    padding: '12px 15px',\r\n    borderRadius: '25px',\r\n    border: 'none',\r\n    background: 'rgba(255,255,255,0.1)',\r\n    color: 'white',\r\n    outline: 'none',\r\n    fontSize: '14px',\r\n  },\r\n  iconBtn: {\r\n    width: '45px',\r\n    height: '45px',\r\n    borderRadius: '50%',\r\n    border: 'none',\r\n    background: '#ff7043',\r\n    color: 'white',\r\n    fontSize: '18px',\r\n    cursor: 'pointer',\r\n  },\r\n  emotionBar: {\r\n    marginTop: '15px',\r\n    display: 'flex',\r\n    gap: '8px',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    fontSize: '14px',\r\n  },\r\n  emotionBtn: {\r\n    width: '35px',\r\n    height: '35px',\r\n    borderRadius: '50%',\r\n    background: 'rgba(255,255,255,0.1)',\r\n    border: '2px solid transparent',\r\n    cursor: 'pointer',\r\n    fontSize: '18px',\r\n  },\r\n  resetBtn: {\r\n    position: 'absolute',\r\n    top: 20,\r\n    right: 20,\r\n    padding: '10px 20px',\r\n    background: 'rgba(255,255,255,0.1)',\r\n    border: '2px solid rgba(255,255,255,0.2)',\r\n    borderRadius: '25px',\r\n    color: 'white',\r\n    cursor: 'pointer',\r\n    fontSize: '14px',\r\n  },\r\n  // Face Scan Styles\r\n  faceScanBox: {\r\n    textAlign: 'center',\r\n    padding: '40px',\r\n    maxWidth: '600px',\r\n    width: '90%',\r\n  },\r\n  cameraContainer: {\r\n    position: 'relative',\r\n    width: '100%',\r\n    maxWidth: '400px',\r\n    aspectRatio: '4/3',\r\n    margin: '30px auto',\r\n    borderRadius: '20px',\r\n    overflow: 'hidden',\r\n    background: 'rgba(0,0,0,0.5)',\r\n    border: '3px solid rgba(255,255,255,0.2)',\r\n  },\r\n  videoPreview: {\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover',\r\n  },\r\n  cameraPlaceholder: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    height: '100%',\r\n    opacity: 0.5,\r\n  },\r\n  faceGuide: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    pointerEvents: 'none',\r\n  },\r\n  faceOval: {\r\n    width: '200px',\r\n    height: '260px',\r\n    border: '3px dashed rgba(0,217,255,0.7)',\r\n    borderRadius: '50%',\r\n    boxShadow: '0 0 30px rgba(0,217,255,0.3)',\r\n  },\r\n  scanLine: {\r\n    position: 'absolute',\r\n    width: '180px',\r\n    height: '3px',\r\n    background: 'linear-gradient(90deg, transparent, #00d9ff, transparent)',\r\n    animation: 'scanMove 2s ease-in-out infinite',\r\n    boxShadow: '0 0 20px #00d9ff',\r\n  },\r\n  scanningOverlay: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    background: 'rgba(0,0,0,0.3)',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  scanningEffect: {\r\n    width: '100%',\r\n    height: '5px',\r\n    background: 'linear-gradient(90deg, transparent, #00d9ff, transparent)',\r\n    animation: 'scanMove 1.5s ease-in-out infinite',\r\n    boxShadow: '0 0 30px #00d9ff',\r\n  },\r\n  capturedPreview: {\r\n    position: 'relative',\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n  capturedImage: {\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover',\r\n  },\r\n  checkMark: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    fontSize: '80px',\r\n    textShadow: '0 0 30px rgba(0,255,0,0.5)',\r\n  },\r\n  scanStatus: {\r\n    fontSize: '1rem',\r\n    marginBottom: '20px',\r\n    minHeight: '24px',\r\n  },\r\n  // Analysis Progress\r\n  analysisProgress: {\r\n    margin: '20px auto',\r\n    maxWidth: '350px',\r\n  },\r\n  progressLabel: {\r\n    marginBottom: '10px',\r\n    color: '#00d9ff',\r\n    fontSize: '1.1rem',\r\n  },\r\n  progressBarBg: {\r\n    width: '100%',\r\n    height: '10px',\r\n    background: 'rgba(255,255,255,0.1)',\r\n    borderRadius: '10px',\r\n    overflow: 'hidden',\r\n  },\r\n  progressBarFill: {\r\n    height: '100%',\r\n    background: 'linear-gradient(90deg, #00d9ff, #00ff88)',\r\n    borderRadius: '10px',\r\n    transition: 'width 0.3s ease',\r\n  },\r\n  progressPercent: {\r\n    marginTop: '8px',\r\n    color: '#00ff88',\r\n    fontWeight: 'bold',\r\n  },\r\n  // Analysis Results\r\n  analysisResults: {\r\n    background: 'rgba(0,217,255,0.1)',\r\n    border: '1px solid rgba(0,217,255,0.3)',\r\n    borderRadius: '15px',\r\n    padding: '20px',\r\n    margin: '20px auto',\r\n    maxWidth: '350px',\r\n  },\r\n  featureList: {\r\n    display: 'grid',\r\n    gridTemplateColumns: '1fr 1fr',\r\n    gap: '12px',\r\n    textAlign: 'left',\r\n  },\r\n  featureItem: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    padding: '8px 12px',\r\n    background: 'rgba(255,255,255,0.05)',\r\n    borderRadius: '8px',\r\n  },\r\n  colorSwatch: {\r\n    width: '25px',\r\n    height: '25px',\r\n    borderRadius: '50%',\r\n    border: '2px solid rgba(255,255,255,0.3)',\r\n  },\r\n  featureValue: {\r\n    color: '#00ff88',\r\n    fontWeight: 'bold',\r\n  },\r\n  captureBtn: {\r\n    padding: '20px 50px',\r\n    fontSize: '1.3rem',\r\n    background: 'linear-gradient(135deg, #00d9ff 0%, #00ff88 100%)',\r\n    color: '#1a1a2e',\r\n    border: 'none',\r\n    borderRadius: '50px',\r\n    cursor: 'pointer',\r\n    fontWeight: 'bold',\r\n    boxShadow: '0 10px 40px rgba(0, 217, 255, 0.4)',\r\n    animation: 'pulse 2s infinite',\r\n  },\r\n  skipBtn: {\r\n    marginTop: '30px',\r\n    padding: '10px 25px',\r\n    background: 'transparent',\r\n    border: 'none',\r\n    color: 'rgba(255,255,255,0.5)',\r\n    cursor: 'pointer',\r\n    fontSize: '0.9rem',\r\n    textDecoration: 'underline',\r\n  },\r\n  // Face Avatar in Clone Screen\r\n  faceAvatarOverlay: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    zIndex: 10,\r\n    pointerEvents: 'none',\r\n  },\r\n  faceAvatarImage: {\r\n    width: '300px',\r\n    height: '300px',\r\n    borderRadius: '50%',\r\n    objectFit: 'cover',\r\n    border: '5px solid rgba(255,255,255,0.3)',\r\n    boxShadow: '0 20px 60px rgba(0,0,0,0.5), 0 0 100px rgba(255,112,67,0.3)',\r\n  },\r\n  emotionOverlay: {\r\n    position: 'absolute',\r\n    bottom: '-10px',\r\n    right: '-10px',\r\n  },\r\n  emotionEmoji: {\r\n    fontSize: '50px',\r\n    filter: 'drop-shadow(0 5px 15px rgba(0,0,0,0.5))',\r\n  },\r\n  // Small face reference\r\n  faceReference: {\r\n    position: 'absolute',\r\n    bottom: 20,\r\n    left: 20,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    gap: '5px',\r\n    background: 'rgba(10,10,26,0.8)',\r\n    padding: '10px',\r\n    borderRadius: '15px',\r\n    backdropFilter: 'blur(10px)',\r\n  },\r\n  faceRefImage: {\r\n    width: '60px',\r\n    height: '60px',\r\n    borderRadius: '50%',\r\n    objectFit: 'cover',\r\n    border: '2px solid rgba(0,217,255,0.5)',\r\n  },\r\n  // Clone Screen - Real Face Styles\r\n  cloneScreenContainer: {\r\n    width: '100%',\r\n    height: '100vh',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    fontFamily: \"'Segoe UI', sans-serif\",\r\n    color: 'white',\r\n    overflow: 'hidden',\r\n  },\r\n  cloneBackground: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    background: 'linear-gradient(135deg, #0a0a1a 0%, #1a1a3e 30%, #2d1f47 60%, #0a0a1a 100%)',\r\n    zIndex: 0,\r\n  },\r\n  faceDisplayArea: {\r\n    flex: 1,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    position: 'relative',\r\n    zIndex: 1,\r\n    padding: '20px',\r\n  },\r\n  realFaceContainer: {\r\n    position: 'relative',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  faceRecognitionFrame: {\r\n    position: 'absolute',\r\n    width: '340px',\r\n    height: '380px',\r\n    border: '3px solid',\r\n    borderRadius: '50%',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    zIndex: 2,\r\n    pointerEvents: 'none',\r\n    transition: 'all 0.5s ease',\r\n  },\r\n  cornerTopLeft: {\r\n    position: 'absolute',\r\n    width: '30px',\r\n    height: '30px',\r\n    border: '3px solid currentColor',\r\n    borderRight: 'none',\r\n    borderBottom: 'none',\r\n    top: '-3px',\r\n    left: '-3px',\r\n    borderTopLeftRadius: '8px',\r\n  },\r\n  cornerTopRight: {\r\n    position: 'absolute',\r\n    width: '30px',\r\n    height: '30px',\r\n    border: '3px solid currentColor',\r\n    borderLeft: 'none',\r\n    borderBottom: 'none',\r\n    top: '-3px',\r\n    right: '-3px',\r\n    borderTopRightRadius: '8px',\r\n  },\r\n  cornerBottomLeft: {\r\n    position: 'absolute',\r\n    width: '30px',\r\n    height: '30px',\r\n    border: '3px solid currentColor',\r\n    borderRight: 'none',\r\n    borderTop: 'none',\r\n    bottom: '-3px',\r\n    left: '-3px',\r\n    borderBottomLeftRadius: '8px',\r\n  },\r\n  cornerBottomRight: {\r\n    position: 'absolute',\r\n    width: '30px',\r\n    height: '30px',\r\n    border: '3px solid currentColor',\r\n    borderLeft: 'none',\r\n    borderTop: 'none',\r\n    bottom: '-3px',\r\n    right: '-3px',\r\n    borderBottomRightRadius: '8px',\r\n  },\r\n  faceGlow: {\r\n    position: 'absolute',\r\n    width: '320px',\r\n    height: '320px',\r\n    borderRadius: '50%',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    zIndex: 0,\r\n    transition: 'box-shadow 0.5s ease',\r\n  },\r\n  imageScanContainer: {\r\n    position: 'relative',\r\n    zIndex: 1,\r\n  },\r\n  scanningLine: {\r\n    position: 'absolute',\r\n    width: '280px',\r\n    height: '2px',\r\n    background: 'linear-gradient(90deg, transparent, #FFB84D, transparent)',\r\n    left: '50%',\r\n    transform: 'translateX(-50%)',\r\n    top: '50%',\r\n    boxShadow: '0 0 20px #FFB84D',\r\n    animation: 'scanLine 2s ease-in-out infinite',\r\n    zIndex: 3,\r\n  },\r\n  realFaceImage: {\r\n    width: '280px',\r\n    height: '280px',\r\n    borderRadius: '50%',\r\n    objectFit: 'cover',\r\n    border: '5px solid rgba(255,255,255,0.3)',\r\n    boxShadow: '0 20px 60px rgba(0,0,0,0.7), 0 0 40px rgba(0,0,0,0.5)',\r\n    position: 'relative',\r\n    zIndex: 1,\r\n    transition: 'transform 0.3s ease, filter 0.3s ease',\r\n  },\r\n  speakingWave: {\r\n    position: 'absolute',\r\n    bottom: '-50px',\r\n    left: '50%',\r\n    transform: 'translateX(-50%)',\r\n    display: 'flex',\r\n    gap: '5px',\r\n    alignItems: 'flex-end',\r\n    height: '40px',\r\n    zIndex: 2,\r\n  },\r\n  waveBar: {\r\n    width: '8px',\r\n    background: 'linear-gradient(180deg, #ff7043, #ff9a56)',\r\n    borderRadius: '4px',\r\n    animation: 'waveAnim 0.6s ease-in-out infinite',\r\n  },\r\n  emotionBubble: {\r\n    position: 'absolute',\r\n    top: '-20px',\r\n    right: '-20px',\r\n    width: '60px',\r\n    height: '60px',\r\n    borderRadius: '50%',\r\n    background: 'rgba(255,255,255,0.15)',\r\n    backdropFilter: 'blur(10px)',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    fontSize: '32px',\r\n    border: '2px solid rgba(255,255,255,0.3)',\r\n    zIndex: 3,\r\n    transition: 'all 0.3s ease',\r\n  },\r\n  nameTag: {\r\n    marginTop: '35px',\r\n    padding: '14px 35px',\r\n    background: 'rgba(255,112,67,0.25)',\r\n    border: '2px solid rgba(255,112,67,0.5)',\r\n    borderRadius: '35px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '12px',\r\n    fontSize: '1.3rem',\r\n    fontWeight: 'bold',\r\n    backdropFilter: 'blur(10px)',\r\n    transition: 'all 0.3s ease',\r\n  },\r\n  nameTagIcon: {\r\n    fontSize: '1.6rem',\r\n    animation: 'pulse 2s infinite',\r\n  },\r\n  statusIndicators: {\r\n    position: 'absolute',\r\n    top: '-15px',\r\n    left: '-15px',\r\n    display: 'flex',\r\n    gap: '8px',\r\n    fontSize: '24px',\r\n    zIndex: 3,\r\n  },\r\n  statusDot: {\r\n    animation: 'pulse 1s infinite',\r\n  },\r\n  noFacePlaceholder: {\r\n    textAlign: 'center',\r\n    opacity: 0.5,\r\n    padding: '40px',\r\n  },\r\n  moodIndicator: {\r\n    position: 'absolute',\r\n    bottom: '30px',\r\n    left: '50%',\r\n    transform: 'translateX(-50%)',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '15px',\r\n    background: 'rgba(10,10,26,0.85)',\r\n    padding: '14px 28px',\r\n    borderRadius: '35px',\r\n    backdropFilter: 'blur(12px)',\r\n    border: '1px solid rgba(255,255,255,0.1)',\r\n  },\r\n  moodLabel: {\r\n    fontSize: '1rem',\r\n    fontWeight: 'bold',\r\n  },\r\n  moodBarLarge: {\r\n    width: '140px',\r\n    height: '10px',\r\n    background: 'rgba(255,255,255,0.15)',\r\n    borderRadius: '10px',\r\n    overflow: 'hidden',\r\n    border: '1px solid rgba(255,255,255,0.2)',\r\n  },\r\n  moodFillLarge: {\r\n    height: '100%',\r\n    borderRadius: '10px',\r\n    transition: 'width 0.5s ease, background 0.5s ease, box-shadow 0.5s ease',\r\n  },\r\n  moodValue: {\r\n    fontSize: '1rem',\r\n    fontWeight: 'bold',\r\n    minWidth: '40px',\r\n    textAlign: 'right',\r\n  },\r\n  thinkingBadge: {\r\n    marginLeft: '15px',\r\n    padding: '5px 12px',\r\n    background: 'rgba(255,184,77,0.2)',\r\n    borderRadius: '15px',\r\n    fontSize: '0.8rem',\r\n    animation: 'pulse 1s infinite',\r\n  },\r\n  speakingBadge: {\r\n    marginLeft: '15px',\r\n    padding: '5px 12px',\r\n    background: 'rgba(78,205,196,0.2)',\r\n    borderRadius: '15px',\r\n    fontSize: '0.8rem',\r\n    animation: 'pulse 0.5s infinite',\r\n  },\r\n  emptyChat: {\r\n    textAlign: 'center',\r\n    padding: '30px',\r\n    opacity: 0.7,\r\n  },\r\n};\r\n\r\n// Add keyframe animations via style tag (only once)\r\nif (!document.getElementById('humanclone-animations')) {\r\n  const styleSheet = document.createElement('style');\r\n  styleSheet.id = 'humanclone-animations';\r\n  styleSheet.textContent = `\r\n    @keyframes pulse {\r\n      0%, 100% { transform: scale(1); opacity: 1; }\r\n      50% { transform: scale(1.05); opacity: 0.8; }\r\n    }\r\n    @keyframes talking {\r\n      0%, 100% { transform: translate(-50%, -50%) scale(1); }\r\n      50% { transform: translate(-50%, -50%) scale(1.02); }\r\n    }\r\n    @keyframes thinking {\r\n      0%, 100% { transform: rotate(-1deg) scale(0.98); }\r\n      50% { transform: rotate(1deg) scale(1); }\r\n    }\r\n    @keyframes breathing {\r\n      0%, 100% { transform: translate(-50%, -50%) scale(1); }\r\n      50% { transform: translate(-50%, -50%) scale(1.02); }\r\n    }\r\n    @keyframes scanMove {\r\n      0% { top: 10%; }\r\n      50% { top: 90%; }\r\n      100% { top: 10%; }\r\n    }\r\n    @keyframes scanLine {\r\n      0% { top: 10%; }\r\n      100% { top: 90%; }\r\n    }\r\n    @keyframes speaking {\r\n      0%, 100% { transform: scale(1); }\r\n      25% { transform: scale(1.01) translateY(-2px); }\r\n      50% { transform: scale(1.03); }\r\n      75% { transform: scale(1.01) translateY(2px); }\r\n    }\r\n    @keyframes idle {\r\n      0%, 100% { transform: scale(1); }\r\n      50% { transform: scale(1.01); }\r\n    }\r\n    @keyframes waveAnim {\r\n      0%, 100% { height: 8px; }\r\n      50% { height: 32px; }\r\n    }\r\n    @keyframes glowPulse {\r\n      0%, 100% { opacity: 0.8; }\r\n      50% { opacity: 1; }\r\n    }\r\n  `;\r\n  document.head.appendChild(styleSheet);\r\n}\r\n\r\nexport default HumanClone;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}