{"ast":null,"code":"var _jsxFileName = \"D:\\\\IZ\\\\AIClone\\\\frontend\\\\src\\\\Chat.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport { FiSend, FiTrash2, FiSettings, FiUpload, FiChevronUp, FiFile, FiMapPin, FiPlay, FiMic, FiType, FiSmile, FiThumbsUp } from 'react-icons/fi';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:8000';\nfunction Chat() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showSettings, setShowSettings] = useState(false);\n  const [uploadQuery, setUploadQuery] = useState('');\n  const [userName, setUserName] = useState('You');\n  const [showUploadMenu, setShowUploadMenu] = useState(false);\n  const [aiProfile, setAiProfile] = useState({\n    name: 'AIClone',\n    avatar: 'ü§ñ',\n    status: 'Online',\n    color: '#0066FF'\n  });\n  const messagesEndRef = useRef(null);\n  const imageInputRef = useRef(null);\n  const documentInputRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  useEffect(() => {\n    loadHistory();\n    loadAIProfile();\n  }, []);\n  const loadAIProfile = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/api/ai-profile`);\n      setAiProfile(response.data);\n    } catch (error) {\n      console.error('Failed to load AI profile:', error);\n    }\n  };\n  const loadHistory = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/api/history`);\n      if (response.data.messages) {\n        setMessages(response.data.messages);\n      }\n    } catch (error) {\n      console.error('Failed to load history:', error);\n    }\n  };\n  const sendMessage = async e => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    setLoading(true);\n    const userMessage = input;\n    setInput('');\n    setMessages(prev => [...prev, {\n      user_message: userMessage,\n      ai_response: '',\n      timestamp: new Date().toISOString(),\n      isLoading: true\n    }]);\n    try {\n      const response = await axios.post(`${API_URL}/api/chat`, {\n        text: userMessage,\n        user_name: 'User'\n      });\n      setMessages(prev => {\n        const updated = [...prev];\n        updated[updated.length - 1] = {\n          ...response.data,\n          isLoading: false\n        };\n        return updated;\n      });\n    } catch (error) {\n      console.error('Error sending message:', error);\n      setMessages(prev => {\n        const updated = [...prev];\n        updated[updated.length - 1] = {\n          ...updated[updated.length - 1],\n          ai_response: '‚ùå L·ªói k·∫øt n·ªëi. Vui l√≤ng ki·ªÉm tra server.',\n          isLoading: false\n        };\n        return updated;\n      });\n    }\n    setLoading(false);\n  };\n  const clearHistory = async () => {\n    if (window.confirm('B·∫°n ch·∫Øc ch·∫Øn mu·ªën x√≥a l·ªãch s·ª≠ cu·ªôc tr√≤ chuy·ªán?')) {\n      try {\n        await axios.delete(`${API_URL}/api/history`);\n        setMessages([]);\n      } catch (error) {\n        console.error('Failed to clear history:', error);\n      }\n    }\n  };\n  const uploadImage = async file => {\n    if (!file) return;\n    setLoading(true);\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('query', uploadQuery);\n    try {\n      const response = await axios.post(`${API_URL}/api/upload/image`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setMessages(prev => [...prev, {\n        user_message: `[Image: ${file.name}]${uploadQuery ? ` - ${uploadQuery}` : ''}`,\n        ai_response: response.data.ai_response,\n        timestamp: response.data.timestamp\n      }]);\n      setUploadQuery('');\n      if (imageInputRef.current) imageInputRef.current.value = '';\n    } catch (error) {\n      console.error('Image upload failed:', error);\n      alert('Failed to upload image');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const uploadDocument = async file => {\n    if (!file) return;\n    setLoading(true);\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('query', uploadQuery);\n    try {\n      const response = await axios.post(`${API_URL}/api/upload/document`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setMessages(prev => [...prev, {\n        user_message: `[Document: ${file.name}]${uploadQuery ? ` - ${uploadQuery}` : ''}`,\n        ai_response: response.data.ai_response || response.data.message,\n        timestamp: response.data.timestamp || new Date().toISOString()\n      }]);\n      setUploadQuery('');\n      if (documentInputRef.current) documentInputRef.current.value = '';\n    } catch (error) {\n      console.error('Document upload failed:', error);\n      alert('Failed to upload document');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-900 flex items-center justify-center p-0\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-screen h-screen bg-gray-800 rounded-none shadow-2xl overflow-hidden flex flex-col border-0\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-900 border-b border-gray-700 p-5 text-white flex justify-between items-center sticky top-0 z-10\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-3xl font-bold overflow-hidden flex-shrink-0\",\n            children: aiProfile.avatar.startsWith('http') ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: aiProfile.avatar,\n              alt: \"AI\",\n              style: {\n                width: '100%',\n                height: '100%',\n                objectFit: 'cover'\n              },\n              onError: e => e.target.style.display = 'none'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this) : aiProfile.avatar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold\",\n              children: aiProfile.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-400\",\n              children: aiProfile.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"p-2 hover:bg-gray-700 rounded-lg transition\",\n            title: \"Video call\",\n            children: \"\\uD83D\\uDCF9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"p-2 hover:bg-gray-700 rounded-lg transition\",\n            title: \"Phone call\",\n            children: \"\\u260E\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowSettings(!showSettings),\n            className: \"p-2 hover:bg-gray-700 rounded-lg transition\",\n            title: \"Settings\",\n            children: \"\\u2699\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-8 space-y-5 bg-gray-800\",\n        children: [messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center h-full text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-9xl mb-6\",\n              children: \"\\uD83D\\uDCAC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-300 text-3xl font-bold mb-2\",\n              children: [\"Xin ch\\xE0o \", userName, \"!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500 text-xl\",\n              children: [\"H\\xE3y b\\u1EAFt \\u0111\\u1EA7u cu\\u1ED9c tr\\xF2 chuy\\u1EC7n v\\u1EDBi \", aiProfile.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this) : messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"max-w-2xl\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-400 text-right mb-2 px-3 font-medium\",\n                children: userName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-600 text-white rounded-3xl rounded-tr-none px-6 py-3 shadow-lg break-words max-w-2xl\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-base\",\n                  children: msg.user_message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0 text-sm font-bold\",\n              children: userName.charAt(0).toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-start gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0 text-white text-sm font-bold overflow-hidden\",\n              children: aiProfile.avatar.startsWith('http') ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: aiProfile.avatar,\n                alt: \"AI\",\n                style: {\n                  width: '100%',\n                  height: '100%',\n                  objectFit: 'cover'\n                },\n                onError: e => e.target.style.display = 'none'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 23\n              }, this) : aiProfile.avatar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"max-w-2xl\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-400 mb-2 px-3 font-medium\",\n                children: aiProfile.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-700 text-gray-100 rounded-3xl rounded-tl-none px-6 py-3 shadow-lg break-words max-w-2xl\",\n                children: msg.isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-2 items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-sm\",\n                    children: \"\\u0110ang suy ngh\\u0129\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",\n                      style: {\n                        animationDelay: '0.2s'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",\n                      style: {\n                        animationDelay: '0.4s'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-base whitespace-pre-wrap\",\n                  children: msg.ai_response\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 17\n          }, this)]\n        }, idx, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), showSettings && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-700 border-t border-gray-600 p-4 flex gap-2 items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: userName,\n          onChange: e => setUserName(e.target.value || 'You'),\n          placeholder: \"T\\xEAn c\\u1EE7a b\\u1EA1n...\",\n          className: \"flex-1 border border-gray-600 rounded-lg px-4 py-2 text-base bg-gray-600 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500\",\n          maxLength: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-800 border-t border-gray-700 p-5\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: sendMessage,\n          className: \"flex gap-3 items-center max-w-6xl mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                var _imageInputRef$curren;\n                return (_imageInputRef$curren = imageInputRef.current) === null || _imageInputRef$curren === void 0 ? void 0 : _imageInputRef$curren.click();\n              },\n              disabled: loading,\n              className: \"bg-gray-700 hover:bg-gray-600 disabled:bg-gray-600 text-gray-300 hover:text-white rounded-full p-3 transition text-lg\",\n              title: \"\\uD83D\\uDCF8 T\\u1EA3i \\u1EA3nh\",\n              children: \"\\uD83D\\uDCF8\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => {\n                var _documentInputRef$cur;\n                return (_documentInputRef$cur = documentInputRef.current) === null || _documentInputRef$cur === void 0 ? void 0 : _documentInputRef$cur.click();\n              },\n              disabled: loading,\n              className: \"bg-gray-700 hover:bg-gray-600 disabled:bg-gray-600 text-gray-300 hover:text-white rounded-full p-3 transition text-lg\",\n              title: \"\\uD83D\\uDCCE T\\u1EA3i file\",\n              children: \"\\uD83D\\uDCCE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              disabled: loading,\n              className: \"bg-gray-700 hover:bg-gray-600 disabled:bg-gray-600 text-gray-300 hover:text-white rounded-full p-3 transition\",\n              title: \"\\uD83C\\uDFA4 Voice\",\n              children: /*#__PURE__*/_jsxDEV(FiMic, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              disabled: loading,\n              className: \"bg-gray-700 hover:bg-gray-600 disabled:bg-gray-600 text-gray-300 hover:text-white rounded-full p-3 transition\",\n              title: \"Aa Text size\",\n              children: /*#__PURE__*/_jsxDEV(FiType, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: imageInputRef,\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: e => {\n              var _e$target$files;\n              return uploadImage((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]);\n            },\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: documentInputRef,\n            type: \"file\",\n            accept: \".pdf,.docx,.txt\",\n            onChange: e => {\n              var _e$target$files2;\n              return uploadDocument((_e$target$files2 = e.target.files) === null || _e$target$files2 === void 0 ? void 0 : _e$target$files2[0]);\n            },\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: input,\n            onChange: e => setInput(e.target.value),\n            placeholder: \"Nh\\u1EADp tin nh\\u1EAFn...\",\n            className: \"flex-1 border border-gray-600 rounded-full px-6 py-3 text-base text-white bg-gray-700 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition\",\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              disabled: loading,\n              className: \"bg-gray-700 hover:bg-gray-600 disabled:bg-gray-600 text-gray-300 hover:text-white rounded-full p-3 transition\",\n              title: \"\\uD83D\\uDE0A Emoji\",\n              children: /*#__PURE__*/_jsxDEV(FiSmile, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: loading || !input.trim(),\n              className: \"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-full p-3 transition font-medium\",\n              title: \"G\\u1EEDi\",\n              children: /*#__PURE__*/_jsxDEV(FiSend, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              disabled: loading,\n              className: \"bg-gray-700 hover:bg-gray-600 disabled:bg-gray-600 text-gray-300 hover:text-white rounded-full p-3 transition\",\n              title: \"\\uD83D\\uDC4D Like\",\n              children: /*#__PURE__*/_jsxDEV(FiThumbsUp, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"3sMigL29cYTt4DmpG2bopXPhhgw=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","FiSend","FiTrash2","FiSettings","FiUpload","FiChevronUp","FiFile","FiMapPin","FiPlay","FiMic","FiType","FiSmile","FiThumbsUp","jsxDEV","_jsxDEV","API_URL","Chat","_s","messages","setMessages","input","setInput","loading","setLoading","showSettings","setShowSettings","uploadQuery","setUploadQuery","userName","setUserName","showUploadMenu","setShowUploadMenu","aiProfile","setAiProfile","name","avatar","status","color","messagesEndRef","imageInputRef","documentInputRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","loadHistory","loadAIProfile","response","get","data","error","console","sendMessage","e","preventDefault","trim","userMessage","prev","user_message","ai_response","timestamp","Date","toISOString","isLoading","post","text","user_name","updated","length","clearHistory","window","confirm","delete","uploadImage","file","formData","FormData","append","headers","value","alert","uploadDocument","message","className","children","startsWith","src","alt","style","width","height","objectFit","onError","target","display","fileName","_jsxFileName","lineNumber","columnNumber","title","onClick","map","msg","idx","charAt","toUpperCase","animationDelay","ref","type","onChange","placeholder","maxLength","onSubmit","_imageInputRef$curren","click","disabled","_documentInputRef$cur","size","accept","_e$target$files","files","_e$target$files2","_c","$RefreshReg$"],"sources":["D:/IZ/AIClone/frontend/src/Chat.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { FiSend, FiTrash2, FiSettings, FiUpload, FiChevronUp, FiFile, FiMapPin, FiPlay, FiMic, FiType, FiSmile, FiThumbsUp } from 'react-icons/fi';\r\nimport './App.css';\r\n\r\nconst API_URL = 'http://localhost:8000';\r\n\r\nfunction Chat() {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [uploadQuery, setUploadQuery] = useState('');\r\n  const [userName, setUserName] = useState('You');\r\n  const [showUploadMenu, setShowUploadMenu] = useState(false);\r\n  const [aiProfile, setAiProfile] = useState({\r\n    name: 'AIClone',\r\n    avatar: 'ü§ñ',\r\n    status: 'Online',\r\n    color: '#0066FF'\r\n  });\r\n  const messagesEndRef = useRef(null);\r\n  const imageInputRef = useRef(null);\r\n  const documentInputRef = useRef(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    loadHistory();\r\n    loadAIProfile();\r\n  }, []);\r\n\r\n  const loadAIProfile = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/api/ai-profile`);\r\n      setAiProfile(response.data);\r\n    } catch (error) {\r\n      console.error('Failed to load AI profile:', error);\r\n    }\r\n  };\r\n\r\n  const loadHistory = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/api/history`);\r\n      if (response.data.messages) {\r\n        setMessages(response.data.messages);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load history:', error);\r\n    }\r\n  };\r\n\r\n  const sendMessage = async (e) => {\r\n    e.preventDefault();\r\n    if (!input.trim()) return;\r\n\r\n    setLoading(true);\r\n    const userMessage = input;\r\n    setInput('');\r\n\r\n    setMessages(prev => [...prev, {\r\n      user_message: userMessage,\r\n      ai_response: '',\r\n      timestamp: new Date().toISOString(),\r\n      isLoading: true\r\n    }]);\r\n\r\n    try {\r\n      const response = await axios.post(`${API_URL}/api/chat`, {\r\n        text: userMessage,\r\n        user_name: 'User'\r\n      });\r\n\r\n      setMessages(prev => {\r\n        const updated = [...prev];\r\n        updated[updated.length - 1] = {\r\n          ...response.data,\r\n          isLoading: false\r\n        };\r\n        return updated;\r\n      });\r\n    } catch (error) {\r\n      console.error('Error sending message:', error);\r\n      setMessages(prev => {\r\n        const updated = [...prev];\r\n        updated[updated.length - 1] = {\r\n          ...updated[updated.length - 1],\r\n          ai_response: '‚ùå L·ªói k·∫øt n·ªëi. Vui l√≤ng ki·ªÉm tra server.',\r\n          isLoading: false\r\n        };\r\n        return updated;\r\n      });\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  const clearHistory = async () => {\r\n    if (window.confirm('B·∫°n ch·∫Øc ch·∫Øn mu·ªën x√≥a l·ªãch s·ª≠ cu·ªôc tr√≤ chuy·ªán?')) {\r\n      try {\r\n        await axios.delete(`${API_URL}/api/history`);\r\n        setMessages([]);\r\n      } catch (error) {\r\n        console.error('Failed to clear history:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const uploadImage = async (file) => {\r\n    if (!file) return;\r\n    \r\n    setLoading(true);\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('query', uploadQuery);\r\n\r\n    try {\r\n      const response = await axios.post(`${API_URL}/api/upload/image`, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n      \r\n      setMessages(prev => [...prev, {\r\n        user_message: `[Image: ${file.name}]${uploadQuery ? ` - ${uploadQuery}` : ''}`,\r\n        ai_response: response.data.ai_response,\r\n        timestamp: response.data.timestamp\r\n      }]);\r\n      \r\n      setUploadQuery('');\r\n      if (imageInputRef.current) imageInputRef.current.value = '';\r\n    } catch (error) {\r\n      console.error('Image upload failed:', error);\r\n      alert('Failed to upload image');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const uploadDocument = async (file) => {\r\n    if (!file) return;\r\n    \r\n    setLoading(true);\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('query', uploadQuery);\r\n\r\n    try {\r\n      const response = await axios.post(`${API_URL}/api/upload/document`, formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' }\r\n      });\r\n      \r\n      setMessages(prev => [...prev, {\r\n        user_message: `[Document: ${file.name}]${uploadQuery ? ` - ${uploadQuery}` : ''}`,\r\n        ai_response: response.data.ai_response || response.data.message,\r\n        timestamp: response.data.timestamp || new Date().toISOString()\r\n      }]);\r\n      \r\n      setUploadQuery('');\r\n      if (documentInputRef.current) documentInputRef.current.value = '';\r\n    } catch (error) {\r\n      console.error('Document upload failed:', error);\r\n      alert('Failed to upload document');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-900 flex items-center justify-center p-0\">\r\n      <div className=\"w-screen h-screen bg-gray-800 rounded-none shadow-2xl overflow-hidden flex flex-col border-0\">\r\n        \r\n        {/* HEADER - FULL WIDTH */}\r\n        <div className=\"bg-gray-900 border-b border-gray-700 p-5 text-white flex justify-between items-center sticky top-0 z-10\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-3xl font-bold overflow-hidden flex-shrink-0\">\r\n              {aiProfile.avatar.startsWith('http') ? (\r\n                <img src={aiProfile.avatar} alt=\"AI\" style={{width: '100%', height: '100%', objectFit: 'cover'}} onError={(e) => e.target.style.display = 'none'} />\r\n              ) : (\r\n                aiProfile.avatar\r\n              )}\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold\">{aiProfile.name}</h1>\r\n              <p className=\"text-sm text-gray-400\">{aiProfile.status}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-3\">\r\n            <button className=\"p-2 hover:bg-gray-700 rounded-lg transition\" title=\"Video call\">\r\n              üìπ\r\n            </button>\r\n            <button className=\"p-2 hover:bg-gray-700 rounded-lg transition\" title=\"Phone call\">\r\n              ‚òéÔ∏è\r\n            </button>\r\n            <button \r\n              onClick={() => setShowSettings(!showSettings)}\r\n              className=\"p-2 hover:bg-gray-700 rounded-lg transition\" \r\n              title=\"Settings\"\r\n            >\r\n              ‚öôÔ∏è\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* MESSAGES CONTAINER - FULL WIDTH, FLEX-GROW */}\r\n        <div className=\"flex-1 overflow-y-auto p-8 space-y-5 bg-gray-800\">\r\n          {messages.length === 0 ? (\r\n            <div className=\"flex items-center justify-center h-full text-center\">\r\n              <div>\r\n                <p className=\"text-9xl mb-6\">üí¨</p>\r\n                <p className=\"text-gray-300 text-3xl font-bold mb-2\">Xin ch√†o {userName}!</p>\r\n                <p className=\"text-gray-500 text-xl\">H√£y b·∫Øt ƒë·∫ßu cu·ªôc tr√≤ chuy·ªán v·ªõi {aiProfile.name}</p>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            messages.map((msg, idx) => (\r\n              <div key={idx} className=\"space-y-4\">\r\n                {/* User Message */}\r\n                <div className=\"flex justify-end gap-3\">\r\n                  <div className=\"max-w-2xl\">\r\n                    <div className=\"text-xs text-gray-400 text-right mb-2 px-3 font-medium\">{userName}</div>\r\n                    <div className=\"bg-blue-600 text-white rounded-3xl rounded-tr-none px-6 py-3 shadow-lg break-words max-w-2xl\">\r\n                      <p className=\"text-base\">{msg.user_message}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0 text-sm font-bold\">\r\n                    {userName.charAt(0).toUpperCase()}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* AI Response */}\r\n                <div className=\"flex justify-start gap-3\">\r\n                  <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center flex-shrink-0 text-white text-sm font-bold overflow-hidden\">\r\n                    {aiProfile.avatar.startsWith('http') ? (\r\n                      <img src={aiProfile.avatar} alt=\"AI\" style={{width: '100%', height: '100%', objectFit: 'cover'}} onError={(e) => e.target.style.display = 'none'} />\r\n                    ) : (\r\n                      aiProfile.avatar\r\n                    )}\r\n                  </div>\r\n                  <div className=\"max-w-2xl\">\r\n                    <div className=\"text-xs text-gray-400 mb-2 px-3 font-medium\">{aiProfile.name}</div>\r\n                    <div className=\"bg-gray-700 text-gray-100 rounded-3xl rounded-tl-none px-6 py-3 shadow-lg break-words max-w-2xl\">\r\n                      {msg.isLoading ? (\r\n                        <div className=\"flex gap-2 items-center\">\r\n                          <span className=\"text-sm\">ƒêang suy nghƒ©</span>\r\n                          <div className=\"flex gap-1\">\r\n                            <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" />\r\n                            <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }} />\r\n                            <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.4s' }} />\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <p className=\"text-base whitespace-pre-wrap\">{msg.ai_response}</p>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n\r\n        {/* Settings Panel */}\r\n        {showSettings && (\r\n          <div className=\"bg-gray-700 border-t border-gray-600 p-4 flex gap-2 items-center\">\r\n            <input\r\n              type=\"text\"\r\n              value={userName}\r\n              onChange={(e) => setUserName(e.target.value || 'You')}\r\n              placeholder=\"T√™n c·ªßa b·∫°n...\"\r\n              className=\"flex-1 border border-gray-600 rounded-lg px-4 py-2 text-base bg-gray-600 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500\"\r\n              maxLength={20}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        {/* INPUT FORM - BOTTOM */}\r\n        <div className=\"bg-gray-800 border-t border-gray-700 p-5\">\r\n          <form onSubmit={sendMessage} className=\"flex gap-3 items-center max-w-6xl mx-auto\">\r\n            {/* Bottom Action Buttons */}\r\n            <div className=\"flex gap-1\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => imageInputRef.current?.click()}\r\n                disabled={loading}\r\n                className=\"bg-gray-700 hover:bg-gray-600 disabled:bg-gray-600 text-gray-300 hover:text-white rounded-full p-3 transition text-lg\"\r\n                title=\"üì∏ T·∫£i ·∫£nh\"\r\n              >\r\n                üì∏\r\n              </button>\r\n              \r\n              <button\r\n                type=\"button\"\r\n                onClick={() => documentInputRef.current?.click()}\r\n                disabled={loading}\r\n                className=\"bg-gray-700 hover:bg-gray-600 disabled:bg-gray-600 text-gray-300 hover:text-white rounded-full p-3 transition text-lg\"\r\n                title=\"üìé T·∫£i file\"\r\n              >\r\n                üìé\r\n              </button>\r\n\r\n              <button\r\n                type=\"button\"\r\n                disabled={loading}\r\n                className=\"bg-gray-700 hover:bg-gray-600 disabled:bg-gray-600 text-gray-300 hover:text-white rounded-full p-3 transition\"\r\n                title=\"üé§ Voice\"\r\n              >\r\n                <FiMic size={20} />\r\n              </button>\r\n\r\n              <button\r\n                type=\"button\"\r\n                disabled={loading}\r\n                className=\"bg-gray-700 hover:bg-gray-600 disabled:bg-gray-600 text-gray-300 hover:text-white rounded-full p-3 transition\"\r\n                title=\"Aa Text size\"\r\n              >\r\n                <FiType size={20} />\r\n              </button>\r\n            </div>\r\n\r\n            <input\r\n              ref={imageInputRef}\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              onChange={(e) => uploadImage(e.target.files?.[0])}\r\n              style={{ display: 'none' }}\r\n            />\r\n            \r\n            <input\r\n              ref={documentInputRef}\r\n              type=\"file\"\r\n              accept=\".pdf,.docx,.txt\"\r\n              onChange={(e) => uploadDocument(e.target.files?.[0])}\r\n              style={{ display: 'none' }}\r\n            />\r\n\r\n            {/* Message Input */}\r\n            <input\r\n              type=\"text\"\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              placeholder=\"Nh·∫≠p tin nh·∫Øn...\"\r\n              className=\"flex-1 border border-gray-600 rounded-full px-6 py-3 text-base text-white bg-gray-700 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition\"\r\n              disabled={loading}\r\n            />\r\n            \r\n            {/* Right Actions */}\r\n            <div className=\"flex gap-1\">\r\n              <button\r\n                type=\"button\"\r\n                disabled={loading}\r\n                className=\"bg-gray-700 hover:bg-gray-600 disabled:bg-gray-600 text-gray-300 hover:text-white rounded-full p-3 transition\"\r\n                title=\"üòä Emoji\"\r\n              >\r\n                <FiSmile size={20} />\r\n              </button>\r\n\r\n              <button\r\n                type=\"submit\"\r\n                disabled={loading || !input.trim()}\r\n                className=\"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-full p-3 transition font-medium\"\r\n                title=\"G·ª≠i\"\r\n              >\r\n                <FiSend size={20} />\r\n              </button>\r\n\r\n              <button\r\n                type=\"button\"\r\n                disabled={loading}\r\n                className=\"bg-gray-700 hover:bg-gray-600 disabled:bg-gray-600 text-gray-300 hover:text-white rounded-full p-3 transition\"\r\n                title=\"üëç Like\"\r\n              >\r\n                <FiThumbsUp size={20} />\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}