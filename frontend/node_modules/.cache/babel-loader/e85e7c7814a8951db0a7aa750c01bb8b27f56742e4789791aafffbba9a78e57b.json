{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./ForgotPassword.css';import FloatingCharacter from'./FloatingCharacter';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ForgotPassword=_ref=>{let{onBackToLogin}=_ref;const[email,setEmail]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[step,setStep]=useState('email');// email or sent\nconst handleSubmit=async e=>{e.preventDefault();setError('');if(!email.trim()){setError('Vui l√≤ng nh·∫≠p email');return;}if(!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)){setError('Email kh√¥ng h·ª£p l·ªá');return;}setLoading(true);try{await axios.post('http://localhost:8000/api/auth/forgot-password',{email:email.trim()});setStep('sent');setSuccess('‚úÖ Link reset m·∫≠t kh·∫©u ƒë√£ ƒë∆∞·ª£c g·ª≠i!');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||'L·ªói g·ª≠i link reset');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"forgot-password-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"forgot-password-box\",children:[/*#__PURE__*/_jsx(FloatingCharacter,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"forgot-password-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn-header\",onClick:onBackToLogin,title:\"Quay l\\u1EA1i\",children:\"\\u2190\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDD10 L\\u1EA5y L\\u1EA1i M\\u1EADt Kh\\u1EA9u\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:'40px'}})]}),step==='email'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"forgot-password-content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"forgot-password-subtitle\",children:\"Nh\\u1EADp email c\\u1EE7a b\\u1EA1n v\\xE0 ch\\xFAng t\\xF4i s\\u1EBD g\\u1EEDi link \\u0111\\u1EC3 \\u0111\\u1EB7t l\\u1EA1i m\\u1EADt kh\\u1EA9u\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"forgot-password-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"email\",className:\"form-label\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-icon\",children:\"\\uD83D\\uDCE7\"}),\"Email \\u0111\\u0103ng k\\xFD\"]}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"your@email.com\",className:\"form-input\",disabled:loading})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-error\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:loading,children:loading?'‚è≥ ƒêang g·ª≠i...':'üì® G·ª≠i link reset'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-box\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u2139\\uFE0F Th\\xF4ng tin\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Link reset s\\u1EBD \\u0111\\u01B0\\u1EE3c g\\u1EEDi trong v\\xE0i gi\\xE2y\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Link h\\u1EE3p l\\u1EC7 trong 24 gi\\u1EDD\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Ki\\u1EC3m tra c\\u1EA3 th\\u01B0 m\\u1EE5c spam n\\u1EBFu kh\\xF4ng th\\u1EA5y\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-back\",onClick:onBackToLogin,disabled:loading,children:\"\\u2190 Quay l\\u1EA1i \\u0111\\u0103ng nh\\u1EADp\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"forgot-password-success\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"success-icon\",children:\"\\u2709\\uFE0F\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Email \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c g\\u1EEDi!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"success-message\",children:\"Ch\\xFAng t\\xF4i \\u0111\\xE3 g\\u1EEDi link \\u0111\\u1EB7t l\\u1EA1i m\\u1EADt kh\\u1EA9u \\u0111\\u1EBFn:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"success-email\",children:email}),/*#__PURE__*/_jsxs(\"div\",{className:\"success-steps\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCB C\\xE1c b\\u01B0\\u1EDBc ti\\u1EBFp theo:\"}),/*#__PURE__*/_jsxs(\"ol\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Ki\\u1EC3m tra email c\\u1EE7a b\\u1EA1n\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Nh\\u1EA5p v\\xE0o link \\\"\\u0110\\u1EB7t l\\u1EA1i m\\u1EADt kh\\u1EA9u\\\"\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Nh\\u1EADp m\\u1EADt kh\\u1EA9u m\\u1EDBi c\\u1EE7a b\\u1EA1n\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u0110\\u0103ng nh\\u1EADp v\\u1EDBi m\\u1EADt kh\\u1EA9u m\\u1EDBi\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"warning-box\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u26A0\\uFE0F \",/*#__PURE__*/_jsx(\"strong\",{children:\"Kh\\xF4ng th\\u1EA5y email?\"})]}),/*#__PURE__*/_jsx(\"p\",{children:\"Ki\\u1EC3m tra th\\u01B0 m\\u1EE5c spam ho\\u1EB7c promotions\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-back\",onClick:onBackToLogin,children:\"\\u2190 Quay l\\u1EA1i \\u0111\\u0103ng nh\\u1EADp\"})]})]})});};export default ForgotPassword;","map":{"version":3,"names":["React","useState","axios","FloatingCharacter","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ForgotPassword","_ref","onBackToLogin","email","setEmail","loading","setLoading","error","setError","success","setSuccess","step","setStep","handleSubmit","e","preventDefault","trim","test","post","err","_err$response","_err$response$data","response","data","detail","className","children","onClick","title","style","width","onSubmit","htmlFor","id","type","value","onChange","target","placeholder","disabled"],"sources":["D:/IZ/AIClone/frontend/src/ForgotPassword.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './ForgotPassword.css';\r\nimport FloatingCharacter from './FloatingCharacter';\r\n\r\nconst ForgotPassword = ({ onBackToLogin }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [step, setStep] = useState('email'); // email or sent\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    if (!email.trim()) {\r\n      setError('Vui l√≤ng nh·∫≠p email');\r\n      return;\r\n    }\r\n\r\n    if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) {\r\n      setError('Email kh√¥ng h·ª£p l·ªá');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      await axios.post('http://localhost:8000/api/auth/forgot-password', {\r\n        email: email.trim()\r\n      });\r\n\r\n      setStep('sent');\r\n      setSuccess('‚úÖ Link reset m·∫≠t kh·∫©u ƒë√£ ƒë∆∞·ª£c g·ª≠i!');\r\n\r\n    } catch (err) {\r\n      setError(err.response?.data?.detail || 'L·ªói g·ª≠i link reset');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"forgot-password-container\">\r\n      <div className=\"forgot-password-box\">\r\n        <FloatingCharacter />\r\n        {/* Header */}\r\n        <div className=\"forgot-password-header\">\r\n          <button \r\n            className=\"back-btn-header\"\r\n            onClick={onBackToLogin}\r\n            title=\"Quay l·∫°i\"\r\n          >\r\n            ‚Üê\r\n          </button>\r\n          <h1>üîê L·∫•y L·∫°i M·∫≠t Kh·∫©u</h1>\r\n          <div style={{ width: '40px' }}></div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        {step === 'email' ? (\r\n          <>\r\n            <div className=\"forgot-password-content\">\r\n              <p className=\"forgot-password-subtitle\">\r\n                Nh·∫≠p email c·ªßa b·∫°n v√† ch√∫ng t√¥i s·∫Ω g·ª≠i link ƒë·ªÉ ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u\r\n              </p>\r\n\r\n              <form onSubmit={handleSubmit} className=\"forgot-password-form\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"email\" className=\"form-label\">\r\n                    <span className=\"label-icon\">üìß</span>\r\n                    Email ƒëƒÉng k√Ω\r\n                  </label>\r\n                  <input\r\n                    id=\"email\"\r\n                    type=\"email\"\r\n                    value={email}\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    placeholder=\"your@email.com\"\r\n                    className=\"form-input\"\r\n                    disabled={loading}\r\n                  />\r\n                </div>\r\n\r\n                {error && <div className=\"alert alert-error\">{error}</div>}\r\n\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn-primary\"\r\n                  disabled={loading}\r\n                >\r\n                  {loading ? '‚è≥ ƒêang g·ª≠i...' : 'üì® G·ª≠i link reset'}\r\n                </button>\r\n              </form>\r\n\r\n              <div className=\"info-box\">\r\n                <h3>‚ÑπÔ∏è Th√¥ng tin</h3>\r\n                <ul>\r\n                  <li>Link reset s·∫Ω ƒë∆∞·ª£c g·ª≠i trong v√†i gi√¢y</li>\r\n                  <li>Link h·ª£p l·ªá trong 24 gi·ªù</li>\r\n                  <li>Ki·ªÉm tra c·∫£ th∆∞ m·ª•c spam n·∫øu kh√¥ng th·∫•y</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n\r\n            <button \r\n              className=\"btn-back\"\r\n              onClick={onBackToLogin}\r\n              disabled={loading}\r\n            >\r\n              ‚Üê Quay l·∫°i ƒëƒÉng nh·∫≠p\r\n            </button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <div className=\"forgot-password-success\">\r\n              <div className=\"success-icon\">‚úâÔ∏è</div>\r\n              <h2>Email ƒë√£ ƒë∆∞·ª£c g·ª≠i!</h2>\r\n              <p className=\"success-message\">\r\n                Ch√∫ng t√¥i ƒë√£ g·ª≠i link ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u ƒë·∫øn:\r\n              </p>\r\n              <p className=\"success-email\">{email}</p>\r\n              \r\n              <div className=\"success-steps\">\r\n                <h3>üìã C√°c b∆∞·ªõc ti·∫øp theo:</h3>\r\n                <ol>\r\n                  <li>Ki·ªÉm tra email c·ªßa b·∫°n</li>\r\n                  <li>Nh·∫•p v√†o link \"ƒê·∫∑t l·∫°i m·∫≠t kh·∫©u\"</li>\r\n                  <li>Nh·∫≠p m·∫≠t kh·∫©u m·ªõi c·ªßa b·∫°n</li>\r\n                  <li>ƒêƒÉng nh·∫≠p v·ªõi m·∫≠t kh·∫©u m·ªõi</li>\r\n                </ol>\r\n              </div>\r\n\r\n              <div className=\"warning-box\">\r\n                <p>‚ö†Ô∏è <strong>Kh√¥ng th·∫•y email?</strong></p>\r\n                <p>Ki·ªÉm tra th∆∞ m·ª•c spam ho·∫∑c promotions</p>\r\n              </div>\r\n            </div>\r\n\r\n            <button \r\n              className=\"btn-back\"\r\n              onClick={onBackToLogin}\r\n            >\r\n              ‚Üê Quay l·∫°i ƒëƒÉng nh·∫≠p\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}